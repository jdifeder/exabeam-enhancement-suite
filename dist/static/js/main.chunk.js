(this["webpackJsonpexabeam-enhancement-suite-react"] = this["webpackJsonpexabeam-enhancement-suite-react"] || []).push([["main"],{

/***/ "./node_modules/css-loader/dist/cjs.js?!./node_modules/postcss-loader/src/index.js?!./src/App.css":
/*!************************************************************************************************************************!*\
  !*** ./node_modules/css-loader/dist/cjs.js??ref--5-oneOf-4-1!./node_modules/postcss-loader/src??postcss!./src/App.css ***!
  \************************************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../node_modules/css-loader/dist/runtime/api.js */ "./node_modules/css-loader/dist/runtime/api.js");
/* harmony import */ var _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0__);
// Imports

var ___CSS_LOADER_EXPORT___ = _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0___default()(true);
// Module
___CSS_LOADER_EXPORT___.push([module.i, ".App {\n  text-align: center;\n}\n\n.App-logo {\n  height: 40vmin;\n  pointer-events: none;\n}\n\n@media (prefers-reduced-motion: no-preference) {\n  .App-logo {\n    animation: App-logo-spin infinite 20s linear;\n  }\n}\n\n.App-header {\n  background-color: #282c34;\n  min-height: 100vh;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  font-size: calc(10px + 2vmin);\n  color: white;\n}\n\n.App-link {\n  color: #61dafb;\n}\n\n@keyframes App-logo-spin {\n  from {\n    transform: rotate(0deg);\n  }\n  to {\n    transform: rotate(360deg);\n  }\n}\n", "",{"version":3,"sources":["webpack://src/App.css"],"names":[],"mappings":"AAAA;EACE,kBAAkB;AACpB;;AAEA;EACE,cAAc;EACd,oBAAoB;AACtB;;AAEA;EACE;IACE,4CAA4C;EAC9C;AACF;;AAEA;EACE,yBAAyB;EACzB,iBAAiB;EACjB,aAAa;EACb,sBAAsB;EACtB,mBAAmB;EACnB,uBAAuB;EACvB,6BAA6B;EAC7B,YAAY;AACd;;AAEA;EACE,cAAc;AAChB;;AAEA;EACE;IACE,uBAAuB;EACzB;EACA;IACE,yBAAyB;EAC3B;AACF","sourcesContent":[".App {\n  text-align: center;\n}\n\n.App-logo {\n  height: 40vmin;\n  pointer-events: none;\n}\n\n@media (prefers-reduced-motion: no-preference) {\n  .App-logo {\n    animation: App-logo-spin infinite 20s linear;\n  }\n}\n\n.App-header {\n  background-color: #282c34;\n  min-height: 100vh;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  font-size: calc(10px + 2vmin);\n  color: white;\n}\n\n.App-link {\n  color: #61dafb;\n}\n\n@keyframes App-logo-spin {\n  from {\n    transform: rotate(0deg);\n  }\n  to {\n    transform: rotate(360deg);\n  }\n}\n"],"sourceRoot":""}]);
// Exports
/* harmony default export */ __webpack_exports__["default"] = (___CSS_LOADER_EXPORT___);


/***/ }),

/***/ "./node_modules/css-loader/dist/cjs.js?!./node_modules/postcss-loader/src/index.js?!./src/index.css":
/*!**************************************************************************************************************************!*\
  !*** ./node_modules/css-loader/dist/cjs.js??ref--5-oneOf-4-1!./node_modules/postcss-loader/src??postcss!./src/index.css ***!
  \**************************************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../node_modules/css-loader/dist/runtime/api.js */ "./node_modules/css-loader/dist/runtime/api.js");
/* harmony import */ var _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0__);
// Imports

var ___CSS_LOADER_EXPORT___ = _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0___default()(true);
// Module
___CSS_LOADER_EXPORT___.push([module.i, "body {\n  margin: 0;\n  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Oxygen',\n    'Ubuntu', 'Cantarell', 'Fira Sans', 'Droid Sans', 'Helvetica Neue',\n    sans-serif;\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n}\n\ncode {\n  font-family: source-code-pro, Menlo, Monaco, Consolas, 'Courier New',\n    monospace;\n}\n", "",{"version":3,"sources":["webpack://src/index.css"],"names":[],"mappings":"AAAA;EACE,SAAS;EACT;;cAEY;EACZ,mCAAmC;EACnC,kCAAkC;AACpC;;AAEA;EACE;aACW;AACb","sourcesContent":["body {\n  margin: 0;\n  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Oxygen',\n    'Ubuntu', 'Cantarell', 'Fira Sans', 'Droid Sans', 'Helvetica Neue',\n    sans-serif;\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n}\n\ncode {\n  font-family: source-code-pro, Menlo, Monaco, Consolas, 'Courier New',\n    monospace;\n}\n"],"sourceRoot":""}]);
// Exports
/* harmony default export */ __webpack_exports__["default"] = (___CSS_LOADER_EXPORT___);


/***/ }),

/***/ "./src/App.css":
/*!*********************!*\
  !*** ./src/App.css ***!
  \*********************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

var api = __webpack_require__(/*! ../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js */ "./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js");
            var content = __webpack_require__(/*! !../node_modules/css-loader/dist/cjs.js??ref--5-oneOf-4-1!../node_modules/postcss-loader/src??postcss!./App.css */ "./node_modules/css-loader/dist/cjs.js?!./node_modules/postcss-loader/src/index.js?!./src/App.css");

            content = content.__esModule ? content.default : content;

            if (typeof content === 'string') {
              content = [[module.i, content, '']];
            }

var options = {};

options.insert = "head";
options.singleton = false;

var update = api(content, options);


if (true) {
  if (!content.locals || module.hot.invalidate) {
    var isEqualLocals = function isEqualLocals(a, b, isNamedExport) {
  if (!a && b || a && !b) {
    return false;
  }

  var p;

  for (p in a) {
    if (isNamedExport && p === 'default') {
      // eslint-disable-next-line no-continue
      continue;
    }

    if (a[p] !== b[p]) {
      return false;
    }
  }

  for (p in b) {
    if (isNamedExport && p === 'default') {
      // eslint-disable-next-line no-continue
      continue;
    }

    if (!a[p]) {
      return false;
    }
  }

  return true;
};
    var oldLocals = content.locals;

    module.hot.accept(
      /*! !../node_modules/css-loader/dist/cjs.js??ref--5-oneOf-4-1!../node_modules/postcss-loader/src??postcss!./App.css */ "./node_modules/css-loader/dist/cjs.js?!./node_modules/postcss-loader/src/index.js?!./src/App.css",
      function () {
        content = __webpack_require__(/*! !../node_modules/css-loader/dist/cjs.js??ref--5-oneOf-4-1!../node_modules/postcss-loader/src??postcss!./App.css */ "./node_modules/css-loader/dist/cjs.js?!./node_modules/postcss-loader/src/index.js?!./src/App.css");

              content = content.__esModule ? content.default : content;

              if (typeof content === 'string') {
                content = [[module.i, content, '']];
              }

              if (!isEqualLocals(oldLocals, content.locals)) {
                module.hot.invalidate();

                return;
              }

              oldLocals = content.locals;

              update(content);
      }
    )
  }

  module.hot.dispose(function() {
    update();
  });
}

module.exports = content.locals || {};

/***/ }),

/***/ "./src/App.js":
/*!********************!*\
  !*** ./src/App.js ***!
  \********************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* WEBPACK VAR INJECTION */(function(__react_refresh_utils__, __react_refresh_error_overlay__) {/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var primereact_datatable__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! primereact/datatable */ "./node_modules/primereact/datatable.js");
/* harmony import */ var primereact_datatable__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(primereact_datatable__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var primereact_button__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! primereact/button */ "./node_modules/primereact/button.js");
/* harmony import */ var primereact_button__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(primereact_button__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var primereact_dialog__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! primereact/dialog */ "./node_modules/primereact/dialog.js");
/* harmony import */ var primereact_dialog__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(primereact_dialog__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var primereact_column__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! primereact/column */ "./node_modules/primereact/column.js");
/* harmony import */ var primereact_column__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(primereact_column__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var primereact_inputtext__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! primereact/inputtext */ "./node_modules/primereact/inputtext.js");
/* harmony import */ var primereact_inputtext__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(primereact_inputtext__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var primereact_treetable__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! primereact/treetable */ "./node_modules/primereact/treetable.js");
/* harmony import */ var primereact_treetable__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(primereact_treetable__WEBPACK_IMPORTED_MODULE_6__);
/* harmony import */ var primereact_progressbar__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! primereact/progressbar */ "./node_modules/primereact/progressbar.js");
/* harmony import */ var primereact_progressbar__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(primereact_progressbar__WEBPACK_IMPORTED_MODULE_7__);
/* harmony import */ var primereact_toast__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! primereact/toast */ "./node_modules/primereact/toast.js");
/* harmony import */ var primereact_toast__WEBPACK_IMPORTED_MODULE_8___default = /*#__PURE__*/__webpack_require__.n(primereact_toast__WEBPACK_IMPORTED_MODULE_8__);
/* harmony import */ var primereact_listbox__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! primereact/listbox */ "./node_modules/primereact/listbox.js");
/* harmony import */ var primereact_listbox__WEBPACK_IMPORTED_MODULE_9___default = /*#__PURE__*/__webpack_require__.n(primereact_listbox__WEBPACK_IMPORTED_MODULE_9__);
/* harmony import */ var _fortawesome_react_fontawesome__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! @fortawesome/react-fontawesome */ "./node_modules/@fortawesome/react-fontawesome/index.es.js");
/* harmony import */ var primereact_resources_themes_saga_blue_theme_css__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! primereact/resources/themes/saga-blue/theme.css */ "./node_modules/primereact/resources/themes/saga-blue/theme.css");
/* harmony import */ var primereact_resources_themes_saga_blue_theme_css__WEBPACK_IMPORTED_MODULE_11___default = /*#__PURE__*/__webpack_require__.n(primereact_resources_themes_saga_blue_theme_css__WEBPACK_IMPORTED_MODULE_11__);
/* harmony import */ var primereact_resources_primereact_min_css__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! primereact/resources/primereact.min.css */ "./node_modules/primereact/resources/primereact.min.css");
/* harmony import */ var primereact_resources_primereact_min_css__WEBPACK_IMPORTED_MODULE_12___default = /*#__PURE__*/__webpack_require__.n(primereact_resources_primereact_min_css__WEBPACK_IMPORTED_MODULE_12__);
/* harmony import */ var primeicons_primeicons_css__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! primeicons/primeicons.css */ "./node_modules/primeicons/primeicons.css");
/* harmony import */ var primeicons_primeicons_css__WEBPACK_IMPORTED_MODULE_13___default = /*#__PURE__*/__webpack_require__.n(primeicons_primeicons_css__WEBPACK_IMPORTED_MODULE_13__);
/* harmony import */ var _logo_svg__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ./logo.svg */ "./src/logo.svg");
/* harmony import */ var _App_css__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ./App.css */ "./src/App.css");
/* harmony import */ var _App_css__WEBPACK_IMPORTED_MODULE_15___default = /*#__PURE__*/__webpack_require__.n(_App_css__WEBPACK_IMPORTED_MODULE_15__);
/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! react/jsx-dev-runtime */ "./node_modules/react/jsx-dev-runtime.js");
/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_16___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_16__);
__webpack_require__.$Refresh$.runtime = __webpack_require__(/*! ./node_modules/react-refresh/runtime.js */ "./node_modules/react-refresh/runtime.js");
__webpack_require__.$Refresh$.setup(module.i);

var _jsxFileName = "C:\\Users\\johnj\\Documents\\exabeam-enhancement-suite-react\\src\\App.js";


















function App() {
  return /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_16__["jsxDEV"])("div", {
    className: "App",
    children: /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_16__["jsxDEV"])("header", {
      className: "App-header",
      children: [/*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_16__["jsxDEV"])("img", {
        src: _logo_svg__WEBPACK_IMPORTED_MODULE_14__["default"],
        className: "App-logo",
        alt: "logo"
      }, void 0, false, {
        fileName: _jsxFileName,
        lineNumber: 26,
        columnNumber: 9
      }, this), /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_16__["jsxDEV"])("p", {
        children: ["Edit ", /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_16__["jsxDEV"])("code", {
          children: "src/App.js"
        }, void 0, false, {
          fileName: _jsxFileName,
          lineNumber: 28,
          columnNumber: 16
        }, this), " and save to reload."]
      }, void 0, true, {
        fileName: _jsxFileName,
        lineNumber: 27,
        columnNumber: 9
      }, this), /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_16__["jsxDEV"])("a", {
        className: "App-link",
        href: "https://reactjs.org",
        target: "_blank",
        rel: "noopener noreferrer",
        children: "Learn React"
      }, void 0, false, {
        fileName: _jsxFileName,
        lineNumber: 30,
        columnNumber: 9
      }, this)]
    }, void 0, true, {
      fileName: _jsxFileName,
      lineNumber: 25,
      columnNumber: 7
    }, this)
  }, void 0, false, {
    fileName: _jsxFileName,
    lineNumber: 24,
    columnNumber: 5
  }, this);
}

_c = App;
/* harmony default export */ __webpack_exports__["default"] = (App);

var _c;

__webpack_require__.$Refresh$.register(_c, "App");

const currentExports = __react_refresh_utils__.getModuleExports(module.i);
__react_refresh_utils__.registerExportsForReactRefresh(currentExports, module.i);

if (true) {
  const isHotUpdate = !!module.hot.data;
  const prevExports = isHotUpdate ? module.hot.data.prevExports : null;

  if (__react_refresh_utils__.isReactRefreshBoundary(currentExports)) {
    module.hot.dispose(
      /**
       * A callback to performs a full refresh if React has unrecoverable errors,
       * and also caches the to-be-disposed module.
       * @param {*} data A hot module data object from Webpack HMR.
       * @returns {void}
       */
      function hotDisposeCallback(data) {
        // We have to mutate the data object to get data registered and cached
        data.prevExports = currentExports;
      }
    );
    module.hot.accept(
      /**
       * An error handler to allow self-recovering behaviours.
       * @param {Error} error An error occurred during evaluation of a module.
       * @returns {void}
       */
      function hotErrorHandler(error) {
        if (
          typeof __react_refresh_error_overlay__ !== 'undefined' &&
          __react_refresh_error_overlay__
        ) {
          __react_refresh_error_overlay__.handleRuntimeError(error);
        }

        if (typeof __react_refresh_test__ !== 'undefined' && __react_refresh_test__) {
          if (window.onHotAcceptError) {
            window.onHotAcceptError(error.message);
          }
        }

        __webpack_require__.c[module.i].hot.accept(hotErrorHandler);
      }
    );

    if (isHotUpdate) {
      if (
        __react_refresh_utils__.isReactRefreshBoundary(prevExports) &&
        __react_refresh_utils__.shouldInvalidateReactRefreshBoundary(prevExports, currentExports)
      ) {
        module.hot.invalidate();
      } else {
        __react_refresh_utils__.enqueueUpdate(
          /**
           * A function to dismiss the error overlay after performing React refresh.
           * @returns {void}
           */
          function updateCallback() {
            if (
              typeof __react_refresh_error_overlay__ !== 'undefined' &&
              __react_refresh_error_overlay__
            ) {
              __react_refresh_error_overlay__.clearRuntimeErrors();
            }
          }
        );
      }
    }
  } else {
    if (isHotUpdate && __react_refresh_utils__.isReactRefreshBoundary(prevExports)) {
      module.hot.invalidate();
    }
  }
}
/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! ./node_modules/@pmmmwh/react-refresh-webpack-plugin/lib/runtime/RefreshUtils.js */ "./node_modules/@pmmmwh/react-refresh-webpack-plugin/lib/runtime/RefreshUtils.js"), __webpack_require__(/*! ./node_modules/react-dev-utils/refreshOverlayInterop.js */ "./node_modules/react-dev-utils/refreshOverlayInterop.js")))

/***/ }),

/***/ "./src/NewSession.js":
/*!***************************!*\
  !*** ./src/NewSession.js ***!
  \***************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* WEBPACK VAR INJECTION */(function(__react_refresh_utils__, __react_refresh_error_overlay__) {/* harmony import */ var C_Users_johnj_Documents_exabeam_enhancement_suite_react_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty */ "./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var primereact_datatable__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! primereact/datatable */ "./node_modules/primereact/datatable.js");
/* harmony import */ var primereact_datatable__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(primereact_datatable__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var primereact_button__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! primereact/button */ "./node_modules/primereact/button.js");
/* harmony import */ var primereact_button__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(primereact_button__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var primereact_dialog__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! primereact/dialog */ "./node_modules/primereact/dialog.js");
/* harmony import */ var primereact_dialog__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(primereact_dialog__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var primereact_column__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! primereact/column */ "./node_modules/primereact/column.js");
/* harmony import */ var primereact_column__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(primereact_column__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var primereact_inputtext__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! primereact/inputtext */ "./node_modules/primereact/inputtext.js");
/* harmony import */ var primereact_inputtext__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(primereact_inputtext__WEBPACK_IMPORTED_MODULE_6__);
/* harmony import */ var primereact_treetable__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! primereact/treetable */ "./node_modules/primereact/treetable.js");
/* harmony import */ var primereact_treetable__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(primereact_treetable__WEBPACK_IMPORTED_MODULE_7__);
/* harmony import */ var primereact_progressbar__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! primereact/progressbar */ "./node_modules/primereact/progressbar.js");
/* harmony import */ var primereact_progressbar__WEBPACK_IMPORTED_MODULE_8___default = /*#__PURE__*/__webpack_require__.n(primereact_progressbar__WEBPACK_IMPORTED_MODULE_8__);
/* harmony import */ var primereact_toast__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! primereact/toast */ "./node_modules/primereact/toast.js");
/* harmony import */ var primereact_toast__WEBPACK_IMPORTED_MODULE_9___default = /*#__PURE__*/__webpack_require__.n(primereact_toast__WEBPACK_IMPORTED_MODULE_9__);
/* harmony import */ var primereact_listbox__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! primereact/listbox */ "./node_modules/primereact/listbox.js");
/* harmony import */ var primereact_listbox__WEBPACK_IMPORTED_MODULE_10___default = /*#__PURE__*/__webpack_require__.n(primereact_listbox__WEBPACK_IMPORTED_MODULE_10__);
/* harmony import */ var dexie__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! dexie */ "./node_modules/dexie/dist/dexie.mjs");
/* harmony import */ var moment__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! moment */ "./node_modules/moment/moment.js");
/* harmony import */ var moment__WEBPACK_IMPORTED_MODULE_12___default = /*#__PURE__*/__webpack_require__.n(moment__WEBPACK_IMPORTED_MODULE_12__);
/* harmony import */ var axios__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! axios */ "./node_modules/axios/index.js");
/* harmony import */ var axios__WEBPACK_IMPORTED_MODULE_13___default = /*#__PURE__*/__webpack_require__.n(axios__WEBPACK_IMPORTED_MODULE_13__);
/* harmony import */ var mobx__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! mobx */ "./node_modules/mobx/dist/mobx.esm.js");
/* harmony import */ var mobx_react_lite__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! mobx-react-lite */ "./node_modules/mobx-react-lite/es/index.js");
/* harmony import */ var _fortawesome_react_fontawesome__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! @fortawesome/react-fontawesome */ "./node_modules/@fortawesome/react-fontawesome/index.es.js");
/* harmony import */ var primereact_resources_themes_saga_blue_theme_css__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! primereact/resources/themes/saga-blue/theme.css */ "./node_modules/primereact/resources/themes/saga-blue/theme.css");
/* harmony import */ var primereact_resources_themes_saga_blue_theme_css__WEBPACK_IMPORTED_MODULE_17___default = /*#__PURE__*/__webpack_require__.n(primereact_resources_themes_saga_blue_theme_css__WEBPACK_IMPORTED_MODULE_17__);
/* harmony import */ var primereact_resources_primereact_min_css__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! primereact/resources/primereact.min.css */ "./node_modules/primereact/resources/primereact.min.css");
/* harmony import */ var primereact_resources_primereact_min_css__WEBPACK_IMPORTED_MODULE_18___default = /*#__PURE__*/__webpack_require__.n(primereact_resources_primereact_min_css__WEBPACK_IMPORTED_MODULE_18__);
/* harmony import */ var primeicons_primeicons_css__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! primeicons/primeicons.css */ "./node_modules/primeicons/primeicons.css");
/* harmony import */ var primeicons_primeicons_css__WEBPACK_IMPORTED_MODULE_19___default = /*#__PURE__*/__webpack_require__.n(primeicons_primeicons_css__WEBPACK_IMPORTED_MODULE_19__);
/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! react/jsx-dev-runtime */ "./node_modules/react/jsx-dev-runtime.js");
/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_20___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_20__);
__webpack_require__.$Refresh$.runtime = __webpack_require__(/*! ./node_modules/react-refresh/runtime.js */ "./node_modules/react-refresh/runtime.js");
__webpack_require__.$Refresh$.setup(module.i);


var _jsxFileName = "C:\\Users\\johnj\\Documents\\exabeam-enhancement-suite-react\\src\\NewSession.js";

/*global chrome*/






















class NewSession {
  constructor() {
    Object(C_Users_johnj_Documents_exabeam_enhancement_suite_react_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_0__["default"])(this, "showHome", true);

    Object(C_Users_johnj_Documents_exabeam_enhancement_suite_react_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_0__["default"])(this, "showLogin", false);

    Object(C_Users_johnj_Documents_exabeam_enhancement_suite_react_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_0__["default"])(this, "showTuning", false);

    Object(C_Users_johnj_Documents_exabeam_enhancement_suite_react_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_0__["default"])(this, "showEvents", false);

    Object(C_Users_johnj_Documents_exabeam_enhancement_suite_react_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_0__["default"])(this, "showValidation", false);

    Object(C_Users_johnj_Documents_exabeam_enhancement_suite_react_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_0__["default"])(this, "onPreviousSession", false);

    Object(C_Users_johnj_Documents_exabeam_enhancement_suite_react_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_0__["default"])(this, "showpRuleTuning", false);

    Object(C_Users_johnj_Documents_exabeam_enhancement_suite_react_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_0__["default"])(this, "showpDataValidation", false);

    Object(C_Users_johnj_Documents_exabeam_enhancement_suite_react_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_0__["default"])(this, "refresh", true);

    Object(C_Users_johnj_Documents_exabeam_enhancement_suite_react_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_0__["default"])(this, "bannedEvents", []);

    Object(C_Users_johnj_Documents_exabeam_enhancement_suite_react_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_0__["default"])(this, "summary", {});

    Object(C_Users_johnj_Documents_exabeam_enhancement_suite_react_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_0__["default"])(this, "errors", []);

    Object(C_Users_johnj_Documents_exabeam_enhancement_suite_react_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_0__["default"])(this, "rawEventErrors", 0);

    Object(C_Users_johnj_Documents_exabeam_enhancement_suite_react_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_0__["default"])(this, "errorVisible", false);

    Object(C_Users_johnj_Documents_exabeam_enhancement_suite_react_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_0__["default"])(this, "host", '');

    Object(C_Users_johnj_Documents_exabeam_enhancement_suite_react_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_0__["default"])(this, "nodeServer", 'https://exabeam.azurewebsites.net/api/exabeam-cloud');

    Object(C_Users_johnj_Documents_exabeam_enhancement_suite_react_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_0__["default"])(this, "username", '');

    Object(C_Users_johnj_Documents_exabeam_enhancement_suite_react_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_0__["default"])(this, "password", '');

    Object(C_Users_johnj_Documents_exabeam_enhancement_suite_react_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_0__["default"])(this, "queryUnit", 'd');

    Object(C_Users_johnj_Documents_exabeam_enhancement_suite_react_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_0__["default"])(this, "queryUnitNum", '7');

    Object(C_Users_johnj_Documents_exabeam_enhancement_suite_react_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_0__["default"])(this, "queryRiskScore", '90');

    Object(C_Users_johnj_Documents_exabeam_enhancement_suite_react_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_0__["default"])(this, "queryLimit", '10000');

    Object(C_Users_johnj_Documents_exabeam_enhancement_suite_react_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_0__["default"])(this, "allowedCount", 5);

    Object(C_Users_johnj_Documents_exabeam_enhancement_suite_react_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_0__["default"])(this, "allowedEventTypeCount", 2);

    Object(C_Users_johnj_Documents_exabeam_enhancement_suite_react_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_0__["default"])(this, "allowedEventsPerSession", 5);

    Object(C_Users_johnj_Documents_exabeam_enhancement_suite_react_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_0__["default"])(this, "allowedEventTypeSessionCount", 0);

    Object(C_Users_johnj_Documents_exabeam_enhancement_suite_react_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_0__["default"])(this, "allowedEventDetailCount", 5);

    Object(C_Users_johnj_Documents_exabeam_enhancement_suite_react_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_0__["default"])(this, "allowedRawEventCount", 0);

    Object(C_Users_johnj_Documents_exabeam_enhancement_suite_react_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_0__["default"])(this, "doneCount", 0);

    Object(C_Users_johnj_Documents_exabeam_enhancement_suite_react_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_0__["default"])(this, "doneCountTimelines", 0);

    Object(C_Users_johnj_Documents_exabeam_enhancement_suite_react_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_0__["default"])(this, "doneCountModels", 0);

    Object(C_Users_johnj_Documents_exabeam_enhancement_suite_react_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_0__["default"])(this, "doneCountRules", 0);

    Object(C_Users_johnj_Documents_exabeam_enhancement_suite_react_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_0__["default"])(this, "doneEventTypes", []);

    Object(C_Users_johnj_Documents_exabeam_enhancement_suite_react_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_0__["default"])(this, "doneEventTypeSessions", []);

    Object(C_Users_johnj_Documents_exabeam_enhancement_suite_react_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_0__["default"])(this, "doneEventTypeAssets", []);

    Object(C_Users_johnj_Documents_exabeam_enhancement_suite_react_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_0__["default"])(this, "doneEventTypeSessionsDetails", []);

    Object(C_Users_johnj_Documents_exabeam_enhancement_suite_react_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_0__["default"])(this, "doneEventTypeAssetsDetails", []);

    Object(C_Users_johnj_Documents_exabeam_enhancement_suite_react_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_0__["default"])(this, "doneRawEvents", []);

    Object(C_Users_johnj_Documents_exabeam_enhancement_suite_react_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_0__["default"])(this, "doneCountEventTypes", 0);

    Object(C_Users_johnj_Documents_exabeam_enhancement_suite_react_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_0__["default"])(this, "doneCountEventTypeSessions", 0);

    Object(C_Users_johnj_Documents_exabeam_enhancement_suite_react_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_0__["default"])(this, "doneCountEventTypeAssets", 0);

    Object(C_Users_johnj_Documents_exabeam_enhancement_suite_react_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_0__["default"])(this, "doneCountEventTypeSessionsDetails", 0);

    Object(C_Users_johnj_Documents_exabeam_enhancement_suite_react_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_0__["default"])(this, "doneCountEventTypeAssetsDetails", 0);

    Object(C_Users_johnj_Documents_exabeam_enhancement_suite_react_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_0__["default"])(this, "doneCountEvents", 0);

    Object(C_Users_johnj_Documents_exabeam_enhancement_suite_react_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_0__["default"])(this, "doneCountSessions", 0);

    Object(C_Users_johnj_Documents_exabeam_enhancement_suite_react_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_0__["default"])(this, "todoRawEventsCount", 0);

    Object(C_Users_johnj_Documents_exabeam_enhancement_suite_react_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_0__["default"])(this, "doneRawEventsCount", 0);

    Object(C_Users_johnj_Documents_exabeam_enhancement_suite_react_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_0__["default"])(this, "validDoneRawEventsCount", 0);

    Object(C_Users_johnj_Documents_exabeam_enhancement_suite_react_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_0__["default"])(this, "retryAttemptRawEventsCount", 0);

    Object(C_Users_johnj_Documents_exabeam_enhancement_suite_react_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_0__["default"])(this, "trueOrFalse", [{
      label: 'True',
      value: 'true'
    }, {
      label: 'False',
      value: 'false'
    }]);

    Object(C_Users_johnj_Documents_exabeam_enhancement_suite_react_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_0__["default"])(this, "trueOrFalseOrNA", [{
      label: 'True',
      value: 'true'
    }, {
      label: 'False',
      value: 'false'
    }, {
      label: 'N/A',
      value: 'N/A'
    }]);

    Object(C_Users_johnj_Documents_exabeam_enhancement_suite_react_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_0__["default"])(this, "activeEventTypes", 0);

    Object(C_Users_johnj_Documents_exabeam_enhancement_suite_react_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_0__["default"])(this, "activeEventTypeSessions", 0);

    Object(C_Users_johnj_Documents_exabeam_enhancement_suite_react_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_0__["default"])(this, "activeEventTypeAssets", 0);

    Object(C_Users_johnj_Documents_exabeam_enhancement_suite_react_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_0__["default"])(this, "activeRawEvents", 0);

    Object(mobx__WEBPACK_IMPORTED_MODULE_14__["makeAutoObservable"])(this);
    this.summary.uniqueUsers = [];
    this.summary.uniqueHosts = [];
    this.summary.uniqueIPs = [];
    this.summary.uniqueUserCount = 0;
    this.summary.uniqueHostCount = 0;
    this.summary.uniqueIPsCount = 0;
    this.getTab();
  }

  getTab() {
    chrome.tabs.query({
      active: true,
      currentWindow: true
    }, ([{
      id,
      url
    }]) => {
      console.log('url = ', url);
      console.log('id = ', id);
      this.setState({
        tabID: id
      });
      this.tabID = id;
      this.setState({
        host: url.split('https://')[1].substr(0, url.split('https://')[1].indexOf('/'))
      });
      this.host = url.split('https://')[1].substr(0, url.split('https://')[1].indexOf('/'));
      console.log('this.host = ', this.host);
      this.getDB();
    });
  }

  sleep(milliseconds) {
    const date = Date.now();
    let currentDate = null;

    do {
      currentDate = Date.now();
    } while (currentDate - date < milliseconds);
  }

  async getDB() {
    this.dbName = 'exabeamEnhancementSuite' + '-' + this.host;
    this.ruleTuningDb = 'ruleTuning';
    this.dataValidationDb = 'dataValidation';
    this.tableNames = [];
    this.dbStores = {};
    this.tableNames.push(this.ruleTuningDb);
    this.tableNames.push(this.dataValidationDb);
    this.tableNames.forEach(tableName => {
      this.dbStores[tableName] = '++id,date,type'; // where schema is a string containing the primary key name + "," + a comma-delimited list of indexes.
    });
    var db = new dexie__WEBPACK_IMPORTED_MODULE_11__["default"](this.dbName);
    db.version(1).stores(this.dbStores);
    console.log('this.ruleTuningDb = ', this.ruleTuningDb);
    this.previousRuleTuning = await db.table(this.ruleTuningDb).toArray();
    this.previousDataValidation = await db.table(this.dataValidationDb).toArray();
    if (this.previousRuleTuning.length !== 0) this.showpRuleTuning = true;
    if (this.previousDataValidation.length !== 0) this.showpDataValidation = true;
    this.previousRuleTuning.forEach(obj => {
      obj.epochDate = obj.date;
      obj.date = moment__WEBPACK_IMPORTED_MODULE_12__(obj.date).format('lll');
      if (obj.type === 'session') obj.type = 'user';
    });
    this.previousDataValidation.forEach(obj => {
      obj.epochDate = obj.date;
      obj.date = moment__WEBPACK_IMPORTED_MODULE_12__(obj.date).format('lll');
    });
    console.log('this.previousRuleTuning = ', this.previousRuleTuning);
    console.log('this.previousDataValidation = ', this.previousDataValidation);
    this.pRuleTuningColumns = [{
      field: 'date',
      header: 'Date Run'
    }, {
      field: 'daysQueried',
      header: 'Days Queried'
    }, {
      field: 'riskScore',
      header: 'Min Risk Score'
    }, {
      field: 'type',
      header: 'Session Type'
    }, {
      field: 'uSessionSummaryRiskScore',
      header: 'Session Scores'
    }, {
      field: 'uSessionSummarySessionCount',
      header: 'Session Count'
    }, {
      field: 'uSessionSummaryNotableCount',
      header: 'Notable Count'
    }, {
      field: 'uSessionSummaryNotablePerDay',
      header: 'Notable Per Day (Average)'
    }];
    this.pRuleTuningSettings = {
      columns: {
        date: {
          title: 'Date Run'
        },
        daysQueried: {
          title: 'Days Queried'
        },
        riskScore: {
          title: 'Min Risk Score'
        },
        type: {
          title: 'Session Type'
        },
        uSessionSummaryRiskScore: {
          title: 'Session Scores'
        },
        uSessionSummarySessionCount: {
          title: 'Session Count'
        },
        uSessionSummaryNotableCount: {
          title: 'Notable Count'
        },
        uSessionSummaryNotablePerDay: {
          title: 'Notable Per Day (Average)'
        }
      }
    };
    this.pDataValidationColumns = [{
      field: 'date',
      header: 'Date Run'
    }, {
      field: 'daysQueried',
      header: 'Days Queried'
    }];
  }

  getNotables(type) {
    this.arrayType = type;
    this.showLogin = false;
    this.showHome = false;
    this.loading = true;
    this.showTuning = true; //Threat Hunter query for all sessions that with risk score >= 90 over 7 days

    chrome.tabs.sendMessage(this.tabID, {
      message: "notableSearch",
      queryUnit: this.queryUnit,
      queryUnitNum: this.queryUnitNum,
      queryRiskScore: this.queryRiskScore,
      queryLimit: this.queryLimit
    }, response => {
      console.log('noatble response = ', response);
      this.thResults = response;
      this.fixArray();
    });
  }

  fixArray() {
    console.log('fixArray() running');
    console.log('this.arrayType = ', this.arrayType);
    this.forEachBreak = false;
    this.counter = 0;
    this.thResultsUsers = {};
    this.thResultsUsers.sessions = [];
    this.thResultsUsers.userCounts = [];
    this.thResultsUsers.ruleCounts = [];
    this.thResultsAssets = {};
    this.thResultsAssets.sessions = [];
    this.thResultsAssets.userCounts = [];
    this.thResultsAssets.ruleCounts = [];
    this.doneCountSessions = 0;
    this.doneCountTimelines = 0; //Grab all the session IDs from the TH query and put them in a new array

    if (this.arrayType === 'asset' && typeof this.thResults.entities.asset !== 'undefined') {
      for (this.index = 0; this.index < this.thResults.entities.asset.length; this.index++) {
        this.thResultsUsers.sessions[this.index] = {};
        this.thResultsUsers.sessions[this.index].id = this.thResults.entities.asset[this.index].assetSequenceInfo.assetSequenceId;
        this.thResultsUsers.sessions[this.index].user = this.thResults.entities.asset[this.index].assetSequenceInfo.assetId;
        this.thResultsUsers.sessions[this.index].riskScore = this.thResults.entities.asset[this.index].assetSequenceInfo.riskScore;
      }

      this.getSequences(0);
    }

    if (this.arrayType === 'session' && typeof this.thResults.entities.session !== 'undefined') {
      for (this.index = 0; this.index < this.thResults.entities.session.length; this.index++) {
        this.thResultsUsers.sessions[this.index] = {};
        this.thResultsUsers.sessions[this.index].id = this.thResults.entities.session[this.index].sessionInfo.sessionId;
        this.thResultsUsers.sessions[this.index].user = this.thResults.entities.session[this.index].sessionInfo.username;
        this.thResultsUsers.sessions[this.index].riskScore = this.thResults.entities.session[this.index].sessionInfo.riskScore;
      }

      this.getSessions(0);
    } //Take all of those session IDs and get all the triggered rules and their underlying events, add them to the array

  }

  getSessions(offset) {
    this.visibleTuningProgress = true;
    var counter = 0;

    if (offset != 0) {
      var tempIndex = offset * this.allowedCount;
    } else {
      var tempIndex = 0;
    }

    var maxIndex = tempIndex + this.allowedCount;
    var tempKeys = [];
    var tempArray = [];
    this.thResultsUsers.sessions.forEach((obj, index) => {
      tempKeys.push(obj.id);
    });

    for (var a = tempIndex; a < maxIndex; a++) {
      tempArray.push(tempKeys[a]);
    }

    this.todoTimelines = tempKeys.length; //Start loop of fetch

    tempArray.forEach((obj, index) => {
      if (obj != undefined) {
        axios__WEBPACK_IMPORTED_MODULE_13___default()('https://' + this.host + '/uba/api/user/sequence/triggeredRules?sequenceType=session&sequenceId=' + obj, {
          method: 'GET',
          withCredentials: 'include'
        }).then(response => {
          //console.log('got response of timeline and it is = ',response);
          this.thResultsUsers.sessions.forEach((obj2, index2) => {
            //console.log('obj(',obj,') && obj2.id(',obj2.id,')');
            if (obj === obj2.id) {
              //console.log('matches!')
              obj2.rules = response.data; //console.log('counter BEFORE = ', counter);

              counter = counter + 1; //console.log('counter AFTER = ', counter);

              this.doneCountSessions = this.doneCountSessions + 1; //console.log('this.doneCountTimelines BEFORE = ', this.doneCountTimelines);

              this.doneCountTimelines++; //console.log('this.doneCountTimelines AFTER = ', this.doneCountTimelines);

              this.tuningProgress = Math.round(this.doneCountTimelines / this.todoTimelines * 100);

              if (counter < this.allowedCount) {//  console.log('Index = '+b+' this.activeCount LESSER this.allowedCount');
              } else {
                //  console.log('Index = '+b+' this.activeCount GREATER this.allowedCount');
                if (this.doneCountSessions <= tempKeys.length) this.getSessions(offset + 1);
              }

              if (this.doneCountSessions === tempKeys.length) {
                this.arraySum(this.thResultsUsers);
              }
            }
          }); //  console.log(response);
        }).catch(error => {
          console.log(error);
        });
      }
    });
  }

  getSequences(offset) {
    this.visibleTuningProgress = true;
    var counter = 0;

    if (offset != 0) {
      var tempIndex = offset * this.allowedCount;
    } else {
      var tempIndex = 0;
    }

    var maxIndex = tempIndex + this.allowedCount;
    var tempKeys = [];
    var tempArray = [];
    this.thResultsUsers.sessions.forEach((obj, index) => {
      tempKeys.push(obj.id);
    });

    for (var a = tempIndex; a < maxIndex; a++) {
      tempArray.push(tempKeys[a]);
    }

    this.todoTimelines = tempKeys.length; //Start loop of fetch

    tempArray.forEach((obj, index) => {
      if (obj != undefined) {
        axios__WEBPACK_IMPORTED_MODULE_13___default()('https://' + this.host + '/uba/api/asset/sequence/' + obj + '/triggeredRules', {
          method: 'GET',
          withCredentials: 'include'
        }).then(response => {
          this.thResultsUsers.sessions.forEach((obj2, index2) => {
            if (obj === obj2.id) {
              obj2.rules = response.data;
              counter = counter + 1;
              this.doneCountSessions = this.doneCountSessions + 1;
              this.doneCountTimelines++;
              this.tuningProgress = Math.round(this.doneCountTimelines / this.todoTimelines * 100);

              if (counter < this.allowedCount) {//  console.log('Index = '+b+' this.activeCount LESSER this.allowedCount');
              } else {
                //  console.log('Index = '+b+' this.activeCount GREATER this.allowedCount');
                if (this.doneCountSessions <= tempKeys.length) this.getSequences(offset + 1);
              }

              if (this.doneCountSessions === tempKeys.length) {
                this.arraySum(this.thResultsUsers);
              }
            }
          }); //  console.log(response);
        }).catch(error => {
          console.log(error);
        });
      }
    });
  }

  arraySum(sessionData) {
    //Setup array to count what users have triggered sessions and their total scores
    //console.log('about to start');
    sessionData.sessions.forEach((obj, index) => {
      //console.log('in my new loop on index '+index);
      if (sessionData.userCounts.some(username => username.user === sessionData.sessions[index].user)) {//  console.log( "Object found inside the array.");
      } else {
        //  console.log("Object not found.");
        //  console.log('pushing '+sessionData.sessions[index].user);
        sessionData.userCounts.push({
          'user': sessionData.sessions[index].user,
          'count': 0,
          'totalScore': 0
        });
      }
    }); //Add up the amount of times a user was seen and sum up the total risk score of those sessions

    for (var i = 0; i < sessionData.sessions.length; i++) {
      for (var b = 0; b < sessionData.userCounts.length; b++) {
        if (sessionData.sessions[i].user === sessionData.userCounts[b].user) {
          sessionData.userCounts[b].count = sessionData.userCounts[b].count + 1;
          sessionData.userCounts[b].totalScore = sessionData.userCounts[b].totalScore + sessionData.sessions[i].riskScore;
        }
      }
    } //Sum up user session info


    this.uSessionSummaryNotableCount = 0;
    this.uSessionSummaryRiskScore = 0;
    this.uSessionSummaryCount = sessionData.sessions.length;

    for (var i = 0; i < sessionData.sessions.length; i++) {
      if (sessionData.sessions[i].riskScore >= 90) this.uSessionSummaryNotableCount = this.uSessionSummaryNotableCount + 1;
      this.uSessionSummaryRiskScore = this.uSessionSummaryRiskScore + sessionData.sessions[i].riskScore;
    }

    this.uSessionSummaryNotablePerDay = Math.round(this.uSessionSummaryNotableCount / this.queryUnitNum);
    this.uSessionSummarySessionCount = sessionData.sessions.length; //Setup array to count what rules have triggered and their total scores
    //console.log('about to start rules');

    sessionData.sessions.forEach((obj, index) => {
      sessionData.sessions[index].rules.triggeredRules.forEach((obj2, index2) => {
        sessionData.sessions[index].rules.triggeredRules[index2].ruleName = sessionData.sessions[index].rules.rules[sessionData.sessions[index].rules.triggeredRules[index2].ruleId].ruleName;

        if (sessionData.ruleCounts.some(ruleName => ruleName.rule === sessionData.sessions[index].rules.triggeredRules[index2].ruleId)) {//   console.log( sessionData.sessions[index].rules.triggeredRules[index2].ruleId +" found inside the array.");
        } else {
          //console.log(sessionData.sessions[index].rules.triggeredRules[index2].ruleId+" not found.");
          //  console.log('index = '+index);
          // console.log('index2 = '+index2);
          sessionData.ruleCounts.push({
            'rule': sessionData.sessions[index].rules.triggeredRules[index2].ruleId,
            'ruleName': sessionData.sessions[index].rules.triggeredRules[index2].ruleName,
            'count': 0,
            'sessionCount': 0,
            'originalSessionCount': 0,
            'totalScore': 0,
            'ruleDef': sessionData.sessions[index].rules.rules[sessionData.sessions[index].rules.triggeredRules[index2].ruleId]
          });
        }
      });
    }); //Add empty array of events under each triggered rule

    for (var b = 0; b < sessionData.ruleCounts.length; b++) {
      sessionData.ruleCounts[b].events = [];
    } //Fill in event details for each event triggered under a rule


    sessionData.sessions.forEach((obj, index) => {
      sessionData.sessions[index].rules.triggeredRules.forEach((obj2, index2) => {
        sessionData.ruleCounts.forEach((obj3, index3) => {
          if (sessionData.sessions[index].rules.triggeredRules[index2].ruleId === sessionData.ruleCounts[index3].rule) {
            if (sessionData.ruleCounts[index3].events.some(eventObject => eventObject.eventId === sessionData.sessions[index].rules.triggeredRules[index2].eventId)) {//  console.log( sessionData.sessions[index].rules.triggeredRules[index2].eventId +" found inside the array.");
            } else {
              //   console.log(sessionData.sessions[index].rules.triggeredRules[index2].eventId+" not found.");
              Object.keys(sessionData.sessions[index].rules.triggeredRuleEvents).forEach((obj4, index4) => {
                if (obj4 === sessionData.sessions[index].rules.triggeredRules[index2].eventId) {
                  if (sessionData.sessions[index].rules.triggeredRuleEvents[obj4].fields['riskScore-' + sessionData.sessions[index].rules.triggeredRules[index2].ruleId] == undefined) sessionData.sessions[index].rules.triggeredRuleEvents[obj4].fields['riskScore-' + sessionData.sessions[index].rules.triggeredRules[index2].ruleId] = 0;
                  sessionData.sessions[index].rules.triggeredRuleEvents[obj4].fields['riskScore-' + sessionData.sessions[index].rules.triggeredRules[index2].ruleId] = sessionData.sessions[index].rules.triggeredRuleEvents[obj4].fields['riskScore-' + sessionData.sessions[index].rules.triggeredRules[index2].ruleId] + Math.round(sessionData.sessions[index].rules.triggeredRules[index2].riskScore);
                  sessionData.ruleCounts[index3].events.push(sessionData.sessions[index].rules.triggeredRuleEvents["" + obj4].fields);
                }
              });
            }
          }
        });
      });
    }); //Add up the amount of times a rule was seen and sum up the total risk score of those rules

    for (var i = 0; i < sessionData.sessions.length; i++) {
      for (var a = 0; a < sessionData.sessions[i].rules.triggeredRules.length; a++) {
        for (var b = 0; b < sessionData.ruleCounts.length; b++) {
          if (sessionData.sessions[i].rules.triggeredRules[a].ruleId === sessionData.ruleCounts[b].rule) {
            sessionData.ruleCounts[b].originalCount = sessionData.ruleCounts[b].count + 1;
            sessionData.ruleCounts[b].count = sessionData.ruleCounts[b].count + 1;
            sessionData.ruleCounts[b].originalTotalScore = sessionData.ruleCounts[b].totalScore + Math.round(sessionData.sessions[i].rules.triggeredRules[a].riskScore);
            sessionData.ruleCounts[b].totalScore = sessionData.ruleCounts[b].totalScore + Math.round(sessionData.sessions[i].rules.triggeredRules[a].riskScore);

            if (this.uSessionSummaryTunedRiskScore) {
              sessionData.ruleCounts[b].totalScorePercent = Math.round(sessionData.ruleCounts[b].totalScore / this.uSessionSummaryTunedRiskScore * 100);
            } else {
              sessionData.ruleCounts[b].totalScorePercent = Math.round(sessionData.ruleCounts[b].totalScore / this.uSessionSummaryRiskScore * 100);
            }
          }
        }
      }
    }

    for (var b = 0; b < sessionData.ruleCounts.length; b++) {
      for (var i = 0; i < sessionData.sessions.length; i++) {
        if (sessionData.sessions[i].rules.triggeredRules.some(rule => rule.ruleId === sessionData.ruleCounts[b].rule)) {
          sessionData.ruleCounts[b].originalSessionCount = sessionData.ruleCounts[b].originalSessionCount + 1;
          sessionData.ruleCounts[b].sessionCount = sessionData.ruleCounts[b].sessionCount + 1;

          if (this.uSessionSummaryTunedRiskScore) {
            sessionData.ruleCounts[b].sessionCountPercent = Math.round(sessionData.ruleCounts[b].sessionCount / this.uSessionSummaryTunedNotablePerDay * 100);
          } else {
            sessionData.ruleCounts[b].sessionCountPercent = Math.round(sessionData.ruleCounts[b].sessionCount / this.uSessionSummarySessionCount * 100);
          }
        }
      }
    }

    if (!this.onPreviousSession) this.storeTuningSession();
    this.setTuningData(sessionData.userCounts, sessionData.ruleCounts);
  }

  setTuningData(userCounts, ruleCounts) {
    this.userData = userCounts;
    this.ruleData = ruleCounts;
    this.ruleTuning = [];
    this.bannedEvents = [];
    this.loading = false;
    this.visibleTuningProgress = false;
    this.columns1 = [{
      field: 'user',
      header: 'User'
    }, {
      field: 'count',
      header: 'Session Count'
    }, {
      field: 'totalScore',
      header: 'Total Score'
    }];
    this.columns2 = [{
      field: 'rule',
      header: 'Rule ID'
    }, {
      field: 'ruleName',
      header: 'Rule Name'
    }, {
      field: 'count',
      header: 'Rule Count'
    }, {
      field: 'sessionCount',
      header: 'Session Count'
    }, {
      field: 'totalScore',
      header: 'Total Score'
    }];
    this.columns4 = [{
      field: 'fieldName',
      header: 'Field Name'
    }, {
      field: 'fieldValue',
      header: 'Value'
    }, {
      field: 'count',
      header: 'Event Count'
    }, {
      field: 'sessionCount',
      header: 'Session Count'
    }, {
      field: 'totalScore',
      header: 'Total Score'
    }];
    this.columns5 = [{
      field: 'name',
      header: 'Name'
    }, {
      field: 'value',
      header: 'Value'
    }, {
      field: 'count',
      header: 'Rule Count'
    }, {
      field: 'score',
      header: 'Score'
    }];
    this.showTuning = false;
    this.showTuning = true;
    this.loading = true;
    this.loading = false;
  }

  async storeTuningSession() {
    var db = new dexie__WEBPACK_IMPORTED_MODULE_11__["default"](this.dbName);
    db.version(1).stores(this.dbStores);
    await db.table(this.ruleTuningDb).add({
      date: Date.now(),
      type: this.arrayType,
      daysQueried: this.queryUnitNum,
      riskScore: this.queryRiskScore,
      sessionData: this.thResultsUsers,
      uSessionSummaryRiskScore: this.uSessionSummaryRiskScore,
      uSessionSummarySessionCount: this.uSessionSummarySessionCount,
      uSessionSummaryNotableCount: this.uSessionSummaryNotableCount,
      uSessionSummaryNotablePerDay: this.uSessionSummaryNotablePerDay
    });
    console.log('just inserted and now this.db.ruleTuning.toArray() = ', await db.table(this.ruleTuningDb).toArray());
  }

  async storeValidationSession() {
    var db = new dexie__WEBPACK_IMPORTED_MODULE_11__["default"](this.dbName);
    db.version(1).stores(this.dbStores);

    if (this.onPreviousSession) {
      await db.table(this.dataValidationDb).put({
        id: this.selectedSession.id,
        date: this.selectedSession.epochDate,
        daysQueried: this.selectedSession.daysQueried,
        rulesAndModels: this.rulesAndModels,
        eventTypes: this.eventTypes,
        summary: this.summary,
        sources: this.sources
      });
    } else {
      await db.table(this.dataValidationDb).add({
        date: Date.now(),
        daysQueried: this.queryUnitNum,
        rulesAndModels: this.rulesAndModels,
        eventTypes: this.eventTypes,
        summary: this.summary,
        sources: this.sources
      });
    }

    console.log('just inserted and now this.db.dataValidation.toArray() = ', await db.table(this.dataValidationDb).toArray());
  }

  async delTuningSession(id) {
    var db = new dexie__WEBPACK_IMPORTED_MODULE_11__["default"](this.dbName);
    db.version(1).stores(this.dbStores);
    await db.table(this.ruleTuningDb).delete(id);
    this.getDB();
  }

  async delDataValidation(id) {
    var db = new dexie__WEBPACK_IMPORTED_MODULE_11__["default"](this.dbName);
    db.version(1).stores(this.dbStores);
    await db.table(this.dataValidationDb).delete(id);
    this.getDB();
  }

  onSessionSelect(event) {
    this.onPreviousSession = true;
    this.selectedSession = event.sessionData;
    this.thResultsUsers = event.sessionData;
    this.uSessionSummaryRiskScore = event.uSessionSummaryRiskScore;
    this.uSessionSummarySessionCount = event.uSessionSummarySessionCount;
    this.uSessionSummaryNotableCount = event.uSessionSummaryNotableCount;
    this.uSessionSummaryNotablePerDay = event.uSessionSummaryNotablePerDay;
    this.showHome = false;
    this.showTuning = true;
    this.setTuningData(this.selectedSession.userCounts, this.selectedSession.ruleCounts);
  }

  onDvSessionSelect(event) {
    this.onPreviousSession = true;
    this.selectedSession = event;
    this.rulesAndModels = event.rulesAndModels;
    this.rulesAndModelsDone = event.rulesAndModels;
    this.eventTypes = event.eventTypes;
    this.summary = event.summary;
    this.showHome = false;
    this.showValidation = true;
    this.getRawEvents(0, 0); //this.findRequiredData(this.rulesAndModels);
  }

  delPreviousRuleTuning(session) {
    console.log('selected data to delete = ', session);
    this.delTuningSession(session.id);
  }

  delPreviousDataValidation(session) {
    console.log('selected data to delete = ', session);
    this.delDataValidation(session.id);
  }

  onSourceSelect(event) {
    this.visibleSelectedSource = true;
    this.selectedSourceSessionEvents = [];
    this.selectedSourceAssetEvents = [];
    event.sessionEvents.forEach(obj => {
      this.selectedSourceSessionEvents.push(obj);
    });
    event.assetEvents.forEach(obj => {
      this.selectedSourceAssetEvents.push(obj);
    }); //const test1 = prettyPrintJson.prettyPrintJson.toHtml(this.selectedSourceSessionEvents);
    //const test2 = prettyPrintJson.prettyPrintJson.toHtml(this.selectedSourceAssetEvents);
    //$( "#selectedSourceSessionEvents" ).html(this.selectedSourceSessionEvents);
    //$( "#selectedSourceAssetEvents" ).html(this.selectedSourceAssetEvents);
  }

  onRowSelect(event) {
    this.selectedRule = event.data.rule;
    this.selectedRuleCount = event.data.count;
    this.selectedRuleScore = event.data.totalScore;
    this.selectedRuleSessionCount = event.data.sessionCount;
    console.log('selected rule = ', event.data.rule);
    this.setEvents(event.data.rule);
    this.showEvents = true;
  }

  toggleShowEvents() {
    this.showEvents = false;
    this.showTuning = true;
  }

  toggleShowHome() {
    this.uSessionSummaryTunedRiskScore = null;
    this.uSessionSummaryTunedNotableCount = null;
    this.uSessionSummaryTunedNotablePerDay = null;
    this.uSessionSummaryTunedRiskScorePercent = null;
    this.uSessionSummaryTunedNotableCountPercent = null;
    this.uSessionSummaryTunedNotablePerDayPercent = null;
    this.allRules = null;
    this.allModels = null;
    this.summary = {};
    this.summary.uniqueUsers = [];
    this.summary.uniqueHosts = [];
    this.summary.uniqueIPs = [];
    this.summary.uniqueUserCount = 0;
    this.summary.uniqueHostCount = 0;
    this.summary.uniqueIPsCount = 0;
    this.sources = [];
    this.userData = [];
    this.ruleData = [];
    this.doneEventTypes = [];
    this.doneEventTypeSessions = [];
    this.doneEventTypeAssets = [];
    this.doneEventTypeSessionsDetails = [];
    this.doneEventTypeAssetsDetails = [];
    this.doneRawEvents = [];
    this.todoRawEventsCount = 0;
    this.doneRawEventsCount = 0;
    this.validDoneRawEventsCount = 0;
    this.retryAttemptRawEventsCount = 0;
    this.getDB();
    this.showTuning = false;
    this.showValidation = false;
    this.onPreviousSession = false;
    this.showpRuleTuning = true;
    this.showHome = true;
  }

  setEvents(ruleName) {
    this.tempCount = 0;
    this.showTuning = false;
    this.showEvents = true;
    this.columns3 = [];
    this.eventData = [];
    this.eventSummaryData = [];

    for (var i = 0; i < this.thResultsUsers.ruleCounts.length; i++) {
      if (this.thResultsUsers.ruleCounts[i].rule === ruleName) {
        this.eventData = this.thResultsUsers.ruleCounts[i].events;
        this.eventData.forEach((obj, index) => {
          Object.keys(obj).forEach((obj2, index2) => {
            if (obj2 != 'time' && obj2 != 'rawlog_time' && obj2 != 'session_order' && obj2 != 'event_id' && obj2 != 'alert_id' && obj2 != 'riskScore' && obj2 != 'is_session_last' && obj2.substring(0, obj2.indexOf('-')) != 'riskScore' && obj[obj2] != '') {
              if (this.eventSummaryData.some(theEvent => theEvent.fieldName === obj2 && theEvent.fieldValue === obj[obj2])) {} else {
                this.eventSummaryData.push({
                  'fieldName': obj2,
                  'fieldValue': obj[obj2],
                  'count': 0,
                  'totalScore': 0,
                  'sessionCount': 0,
                  'sessionIds': []
                });
              }

              if (this.columns3.some(eventObject => eventObject.field === obj2)) {} else {
                this.columns3.push({
                  'field': obj2,
                  'header': obj2
                });
              }
            }
          });
        });
      }
    }

    for (var i = 0; i < this.eventData.length; i++) {
      Object.keys(this.eventData[i]).forEach((obj2, index2) => {
        for (var b = 0; b < this.eventSummaryData.length; b++) {
          if (this.eventSummaryData[b].fieldName === obj2 && this.eventSummaryData[b].fieldValue === this.eventData[i][obj2] && this.eventData[i]['riskScore-' + this.selectedRule]) {
            if (this.bannedEvents.some(theEvent => theEvent.event_id === this.eventData[i].event_id)) {
              this.bannedEvents.forEach((obj3, index3) => {
                if (obj3.event_id === this.eventData[i].event_id) {
                  if (obj3.rules.some(theRule => theRule === ruleName)) {} else {
                    this.eventSummaryData[b].count = this.eventSummaryData[b].count + 1;
                    this.eventSummaryData[b].totalScore = this.eventSummaryData[b].totalScore + this.eventData[i]['riskScore-' + this.selectedRule];
                    this.eventSummaryData[b].eventCountPercent = Math.round(this.eventSummaryData[b].count / this.selectedRuleCount * 100);
                    this.eventSummaryData[b].scoreCountPercent = Math.round(this.eventSummaryData[b].totalScore / this.selectedRuleScore * 100);

                    if (this.eventSummaryData[b].sessionIds.some(id => id === this.eventData[i].session_id)) {} else {
                      this.eventSummaryData[b].sessionIds.push(this.eventData[i].session_id);
                      this.eventSummaryData[b].sessionCount = this.eventSummaryData[b].sessionCount + 1;
                      this.eventSummaryData[b].sessionCountPercent = Math.round(this.eventSummaryData[b].sessionCount / this.selectedRuleSessionCount * 100);
                    }
                  }
                }
              });
            } else {
              this.eventSummaryData[b].count = this.eventSummaryData[b].count + 1;
              this.eventSummaryData[b].totalScore = this.eventSummaryData[b].totalScore + this.eventData[i]['riskScore-' + this.selectedRule];
              this.eventSummaryData[b].eventCountPercent = Math.round(this.eventSummaryData[b].count / this.selectedRuleCount * 100);
              this.eventSummaryData[b].scoreCountPercent = Math.round(this.eventSummaryData[b].totalScore / this.selectedRuleScore * 100);

              if (this.eventSummaryData[b].sessionIds.some(id => id === this.eventData[i].session_id)) {} else {
                this.eventSummaryData[b].sessionIds.push(this.eventData[i].session_id);
                this.eventSummaryData[b].sessionCount = this.eventSummaryData[b].sessionCount + 1;
                this.eventSummaryData[b].sessionCountPercent = Math.round(this.eventSummaryData[b].sessionCount / this.selectedRuleSessionCount * 100);
              }
            }
          }
        }
      });
    }
  }

  tuneRule(data) {
    this.foundRule = false; //Add rule tuning conditions to array

    if (this.ruleTuning.length == 0) {
      this.ruleTuning.push({
        'data': {
          'name': this.selectedRule,
          'value': '',
          'count': '',
          'score': '',
          'sessionCount': ''
        },
        'children': []
      });
      this.ruleTuning[0].children.push({
        'data': {
          'name': data.fieldName,
          'value': data.fieldValue,
          'count': data.count,
          'score': data.totalScore,
          'sessionCount': data.sessionCount,
          'scorePercent': Math.round(data.totalScore / this.uSessionSummaryRiskScore * 100)
        }
      });
    } else {
      this.ruleTuning.forEach((obj, index) => {
        if (obj.data.name === this.selectedRule) {
          this.foundRule = true;

          if (obj.children.some(theEvent => theEvent.data.name === data.fieldName && theEvent.data.value === data.fieldValue)) {} else {
            obj.children.push({
              'data': {
                'name': data.fieldName,
                'value': data.fieldValue,
                'count': data.count,
                'score': data.totalScore,
                'sessionCount': data.sessionCount,
                'scorePercent': Math.round(data.totalScore / this.uSessionSummaryRiskScore * 100)
              }
            });
          }
        }
      });

      if (this.foundRule == false) {
        this.ruleTuning.push({
          'data': {
            'name': this.selectedRule,
            'value': '',
            'count': '',
            'score': '',
            'sessionCount': ''
          },
          'children': [{
            'data': {
              'name': data.fieldName,
              'value': data.fieldValue,
              'count': data.count,
              'score': data.totalScore,
              'sessionCount': data.sessionCount,
              'scorePercent': Math.round(data.totalScore / this.uSessionSummaryRiskScore * 100)
            }
          }]
        });
      }
    } //Go back through tuned rules and sum up changes per rule


    this.ruleTuning.forEach((obj, index) => {
      obj.data.count = 0;
      obj.data.score = 0;
      obj.data.sessionCount = 0;
      obj.children.forEach((obj2, index2) => {
        obj.data.count = obj.data.count + obj2.data.count;
        obj.data.score = obj.data.score + obj2.data.score;
        obj.data.sessionCount = obj.data.sessionCount + obj2.data.sessionCount;
      });
    }); //Apply changes to rule counts

    for (var b = 0; b < this.thResultsUsers.ruleCounts.length; b++) {
      this.ruleTuning.forEach((obj, index) => {
        if (obj.data.name === this.thResultsUsers.ruleCounts[b].rule) {
          this.thResultsUsers.ruleCounts[b].count = this.thResultsUsers.ruleCounts[b].originalCount - obj.data.count;
          this.thResultsUsers.ruleCounts[b].totalScore = this.thResultsUsers.ruleCounts[b].originalTotalScore - obj.data.score;
          this.thResultsUsers.ruleCounts[b].sessionCount = this.thResultsUsers.ruleCounts[b].originalSessionCount - obj.data.sessionCount;

          if (obj.data.name === this.selectedRule) {
            this.selectedRuleScore = this.thResultsUsers.ruleCounts[b].totalScore;
            this.selectedRuleCount = this.thResultsUsers.ruleCounts[b].count;
            this.selectedRuleSessionCount = this.thResultsUsers.ruleCounts[b].sessionCount;
          }
        }
      });
    }

    this.ruleData = this.thResultsUsers.ruleCounts;
    this.eventData.forEach((obj, index) => {
      Object.keys(obj).forEach((obj2, index2) => {
        if (data.fieldName === obj2 && data.fieldValue === obj[obj2]) {
          if (this.bannedEvents.some(theEvent => theEvent.event_id === obj.event_id)) {
            this.bannedEvents.forEach((obj3, index3) => {
              if (obj3.event_id === obj.event_id) {
                if (obj3.rules.some(theRule => theRule === this.selectedRule)) {//console.log(this.selectedRule+ ' is already banned for event_id '+obj.event_id);         
                } else {
                  obj3.event_id[obj.event_id].rules.push(this.selectedRule);
                }
              }
            });
          } else {
            this.bannedEvents.push({
              'event_id': obj.event_id,
              'rules': [this.selectedRule]
            });
          }
        }
      });
    }); //Test out rule exceptions on sessions

    this.thResultsUsers.sessions.forEach((obj, index) => {
      obj.riskScoreTuned = obj.riskScore;
      Object.keys(obj.rules.triggeredRuleEvents).forEach((obj2, index2) => {
        if (this.bannedEvents.some(theEvent => theEvent.event_id === obj2)) {
          this.bannedEvents.forEach((obj3, index3) => {
            if (obj3.event_id === obj2) {
              obj3.rules.forEach((obj4, index4) => {
                Object.keys(obj.rules.triggeredRuleEvents[obj2].fields).forEach((obj5, index4) => {
                  //console.log ('obj5 = '+obj5 + ' '+ obj5.substring(obj5.indexOf('-') + 1));
                  if (obj3.rules.some(theRule => theRule === obj5.substring(obj5.indexOf('-') + 1))) {
                    //console.log('found one at index '+ index);
                    //console.log('subtracting '+obj.rules.triggeredRuleEvents[obj2].fields[obj5]+ ' from '+obj.riskScoreTuned);
                    obj.riskScoreTuned = obj.riskScoreTuned - obj.rules.triggeredRuleEvents[obj2].fields[obj5];
                  }
                });
              });
            }
          });
        }
      });
    }); // Calculate results of rule exceptions on sessions

    this.uSessionSummaryTunedNotableCount = 0;
    this.uSessionSummaryTunedNotablePerDay = 0;
    this.uSessionSummaryTunedRiskScore = 0;
    this.uSessionSummaryTunedNotableCountPercent = 0;
    this.uSessionSummaryTunedNotablePerDayPercent = 0;
    this.uSessionSummaryTunedRiskScorePercent = 0;

    for (var i = 0; i < this.thResultsUsers.sessions.length; i++) {
      if (this.thResultsUsers.sessions[i].riskScoreTuned >= 90) this.uSessionSummaryTunedNotableCount = this.uSessionSummaryTunedNotableCount + 1;
      this.uSessionSummaryTunedRiskScore = this.uSessionSummaryTunedRiskScore + this.thResultsUsers.sessions[i].riskScoreTuned;
    }

    this.uSessionSummaryTunedNotablePerDay = Math.round(this.uSessionSummaryTunedNotableCount / this.queryUnitNum);
    this.uSessionSummaryTunedNotableCountPercent = Math.round((this.uSessionSummaryTunedNotableCount / this.uSessionSummaryNotableCount - 1) * 100);
    this.uSessionSummaryTunedNotablePerDayPercent = Math.round((this.uSessionSummaryTunedNotablePerDay / this.uSessionSummaryNotablePerDay - 1) * 100);
    this.uSessionSummaryTunedRiskScorePercent = Math.round((this.uSessionSummaryTunedRiskScore / this.uSessionSummaryRiskScore - 1) * 100); //Reset user session score rollup and re-evaluate based on the tuned risk scores from sessions

    this.thResultsUsers.userCounts.forEach((obj, index) => {
      obj.totalScore = 0;
    });

    for (var i = 0; i < this.thResultsUsers.sessions.length; i++) {
      for (var b = 0; b < this.thResultsUsers.userCounts.length; b++) {
        if (this.thResultsUsers.sessions[i].user === this.thResultsUsers.userCounts[b].user) {
          this.thResultsUsers.userCounts[b].totalScore = this.thResultsUsers.userCounts[b].totalScore + this.thResultsUsers.sessions[i].riskScoreTuned;
        }
      }
    }

    this.userData = this.thResultsUsers.userCounts; //re-calcualte results of rule exceptions on event data

    this.setEvents(this.selectedRule); //DOM refresh issues in angular, this fixed it

    this.refresh = false;
    this.refresh = true;
  }

  startValidation() {
    this.showValidation = true;
    this.loading = true;
    this.showLogin = false;
    this.showHome = false;
    this.visibleDataValidationProgress = true; //Get all rules

    axios__WEBPACK_IMPORTED_MODULE_13___default()('https://' + this.host + '/uba/api/rules/fetchRules?filterBy=all', {
      method: 'GET',
      withCredentials: 'include'
    }).then(response => {
      this.allRules = response.data;
      this.allRules.forEach((obj, index) => {
        obj.rules.forEach((obj2, index) => {
          if (obj2.ruleDef.modelName === 'FACT') {
            obj2.canTrigger = 'N/A';
          } else {
            obj2.canTrigger = false;
          }

          obj2.hasTriggered = false;
        });
      });
      this.getModels();
    }).catch(error => {
      console.log('error');
      console.log(error);
      this.errors.push('Error fetching all rules');
      this.errorVisible = true;
      alert('ERROR fetching data: Check your URL and authenticaiton details and try again');
    });
  }

  getModels() {
    //Get all models
    axios__WEBPACK_IMPORTED_MODULE_13___default()('https://' + this.host + '/uba/api/rules/modelDefinitions', {
      method: 'GET',
      withCredentials: 'include'
    }).then(response => {
      this.allModels = response.data; //console.log(response);

      Object.keys(this.allModels).forEach((obj, index) => {
        this.allModels[obj].populating = false;
        this.allModels[obj].attributes.populating = false;
      });
      this.checkModels(0);
    }).catch(error => {
      console.log(error);
      this.errors.push('Error fetching all models');
      this.errorVisible = true;
    });
  }

  checkModels(offset) {
    var counter = 0;

    if (offset != 0) {
      var tempIndex = offset * this.allowedCount;
    } else {
      var tempIndex = 0;
    }

    var maxIndex = tempIndex + this.allowedCount;
    var tempKeys = Object.keys(this.allModels);
    this.todoModels = tempKeys.length;
    var tempArray = [];

    for (var b = tempIndex; b < maxIndex; b++) {
      tempArray.push(tempKeys[b]);
    }

    tempArray.forEach((obj, index) => {
      if (obj != undefined) {
        axios__WEBPACK_IMPORTED_MODULE_13___default()('https://' + this.host + '/uba/api/histograms/search?maxNumberOfResults=1&modelName=' + obj, {
          method: 'GET',
          withCredentials: 'include'
        }).then(response => {
          //  console.log(response);
          this.allModels[obj].histograms = response.data;

          if (this.allModels[obj].histograms.histograms.length != 0) {
            this.allModels[obj].populating = true;
            this.allModels[obj].attributes.populating = true;
          } //  console.log('this index after = '+index);


          counter = counter + 1;
          this.doneCountModels = this.doneCountModels + 1;
          this.dataValidationProgress = Math.round(this.doneCountModels / this.todoModels * 20);

          if (counter < this.allowedCount) {} else {
            if (this.doneCountModels <= tempKeys.length) this.checkModels(offset + 1);
          }

          if (this.doneCountModels === tempKeys.length) {
            console.log('moving to checkRules');
            this.checkRules(0);
          }
        }).catch(error => {
          console.log(error);
          this.errors.push('Error fetching model: ' + obj);
          this.errorVisible = true;
          counter = counter + 1;
          this.doneCountModels = this.doneCountModels + 1;

          if (counter < this.allowedCount) {} else {
            if (this.doneCountModels <= tempKeys.length) this.checkModels(offset + 1);
          }

          if (this.doneCountModels === tempKeys.length) {
            console.log('moving to checkRules');
            this.checkRules(0);
          }
        });
      }
    });
  }

  checkRules(offset) {
    var counter = 0;

    if (offset != 0) {
      var tempIndex = offset * this.allowedCount;
    } else {
      var tempIndex = 0;
    }

    var maxIndex = tempIndex + this.allowedCount;
    var tempKeys = [];
    var tempArray = [];
    this.allRules.forEach((obj, index) => {
      obj.rules.forEach((obj2, index2) => {
        tempKeys.push(obj2.ruleId);
      });
    });
    this.todoRules = tempKeys.length;

    for (var a = tempIndex; a < maxIndex; a++) {
      tempArray.push(tempKeys[a]);
    } //Check all rules if triggered


    tempArray.forEach((obj, index) => {
      axios__WEBPACK_IMPORTED_MODULE_13___default()('https://' + this.host + '/uba/api/rules/triggerFrequency?ruleId=' + obj, {
        method: 'GET',
        withCredentials: 'include'
      }).then(response => {
        //  console.log(response);
        this.allRules.forEach((obj2, index2) => {
          obj2.rules.forEach((obj3, index3) => {
            if (obj3.ruleId === obj) {
              obj3.triggerFreq = response.data;

              if (obj3.triggerFreq.triggerFrequency === 0) {} else {
                obj3.hasTriggered = true;
              }
            }
          });
        });
        counter = counter + 1;
        this.doneCountRules = this.doneCountRules + 1;
        this.dataValidationProgress = Math.round(this.doneCountRules / this.todoRules * 20 + 20); //console.log('Rules counter = '+counter);
        //console.log('doneCountRules = '+this.doneCountRules);
        //console.log('tempKeys.length = '+tempKeys.length);

        if (counter < this.allowedCount) {//  console.log('Index = '+b+' this.activeCount LESSER this.allowedCount');
        } else {
          //  console.log('Index = '+b+' this.activeCount GREATER this.allowedCount');
          if (this.doneCountRules <= tempKeys.length) this.checkRules(offset + 1);
        }

        if (this.doneCountRules === tempKeys.length) this.combineArrays();
      }).catch(error => {
        console.log(error);
        this.errors.push('Error fetching rule: ' + obj);
        this.errorVisible = true;
        counter = counter + 1;
        this.doneCountRules = this.doneCountRules + 1;

        if (counter < this.allowedCount) {//  console.log('Index = '+b+' this.activeCount LESSER this.allowedCount');
        } else {
          //  console.log('Index = '+b+' this.activeCount GREATER this.allowedCount');
          if (this.doneCountRules <= tempKeys.length) this.checkRules(offset + 1);
        }

        if (this.doneCountRules === tempKeys.length) this.combineArrays();
      });
    });
  }

  combineArrays() {
    this.rulesAndModels = [];
    this.allRules.forEach((obj, index) => {
      obj.rules.forEach((obj2, index2) => {
        var ruleType;

        if (obj2.ruleDef.modelName === 'FACT') {
          ruleType = 'FACT';
        } else {
          ruleType = 'Model';
        }

        if (this.allModels[obj2.ruleDef.modelName] == undefined) {
          this.rulesAndModels.push({
            ruleCat: obj.categoryId,
            ruleId: obj2.ruleDef.ruleId,
            ruleName: obj2.ruleDef.ruleName,
            ruleType: ruleType,
            modelName: obj2.ruleDef.modelName,
            modelDisabled: 'N/A',
            populating: 'N/A',
            hasTriggered: obj2.hasTriggered.toString(),
            ruleDef: obj2.ruleDef
          });
        } else {
          this.rulesAndModels.push({
            ruleCat: obj.categoryId,
            ruleId: obj2.ruleDef.ruleId,
            ruleName: obj2.ruleDef.ruleName,
            ruleType: ruleType,
            modelName: obj2.ruleDef.modelName,
            modelDisabled: this.allModels[obj2.ruleDef.modelName].attributes.disabled,
            populating: this.allModels[obj2.ruleDef.modelName].populating.toString(),
            hasTriggered: obj2.hasTriggered.toString(),
            ruleDef: obj2.ruleDef,
            modelDef: this.allModels[obj2.ruleDef.modelName].attributes
          });
        }
      });
    });
    this.findRequiredData(this.rulesAndModels);
  }

  findRequiredData(rulesAndModels) {
    rulesAndModels.forEach((obj, index) => {
      var tempfield = ''; //If not a fact based rule, determine the event types required for model to trigger

      if (obj.modelDef != undefined) {
        obj.modelDef.requiredEventFields = [];
        obj.modelDef.presentEventFields = [];
        obj.modelDef.missingEventFields = []; //If the feature has no parenthesis then just use a field name

        if (obj.modelDef.feature.toLowerCase().startsWith('count') || obj.modelDef.feature.toLowerCase().startsWith('distinct') || obj.modelDef.feature.toLowerCase().startsWith('sum') || obj.modelDef.feature.toLowerCase().startsWith('sequence')) {
          if (obj.modelDef.feature.toLowerCase().substring(obj.modelDef.feature.indexOf("(") + 1).startsWith('getvalue(')) {
            tempfield = obj.modelDef.feature.toLowerCase().substring(obj.modelDef.feature.indexOf("(") + 1, obj.modelDef.feature.indexOf(")") + 1).replace(/ /g, "");
          } else {
            tempfield = obj.modelDef.feature.toLowerCase().substring(obj.modelDef.feature.indexOf("(") + 1, obj.modelDef.feature.indexOf(",")).replace(/ /g, "");
          }
        } else {
          tempfield = obj.modelDef.feature.toLowerCase().replace(/ /g, "");
        }

        if (obj.modelDef.requiredEventFields.some(field => field === tempfield)) {} else {
          obj.modelDef.requiredEventFields.push(tempfield);
        }

        if (obj.modelDef.trainIf.toLowerCase().startsWith('count') || obj.modelDef.trainIf.toLowerCase().startsWith('distinct') || obj.modelDef.trainIf.toLowerCase().startsWith('sum') || obj.modelDef.trainIf.toLowerCase().startsWith('sequence')) {
          if (obj.modelDef.trainIf.toLowerCase().substring(obj.modelDef.trainIf.indexOf("(") + 1).startsWith('getvalue(')) {
            tempfield = obj.modelDef.trainIf.toLowerCase().substring(obj.modelDef.trainIf.indexOf("(") + 1, obj.modelDef.trainIf.indexOf(")") + 1).replace(/ /g, "");
          } else {
            tempfield = obj.modelDef.trainIf.toLowerCase().substring(obj.modelDef.trainIf.indexOf("(") + 1, obj.modelDef.trainIf.indexOf(",")).replace(/ /g, "");
          }
        }

        if (obj.modelDef.requiredEventFields.some(field => field === tempfield)) {} else {
          obj.modelDef.requiredEventFields.push(tempfield);
        }

        if (obj.modelDef.trainIf.toLowerCase().includes('exists(')) {
          tempfield = obj.modelDef.trainIf.toLowerCase().substring(obj.modelDef.trainIf.indexOf("exists(") + 7, obj.modelDef.trainIf.indexOf(")", obj.modelDef.trainIf.indexOf("exists(") + 7));

          if (obj.modelDef.requiredEventFields.some(field => field === tempfield)) {} else {
            obj.modelDef.requiredEventFields.push(tempfield);
          }
        }

        if (obj.modelDef.scopeType === 'USER' || obj.modelDef.scopeType === 'PEERS' || obj.modelDef.scopeType === 'DEVICE') {
          tempfield = obj.modelDef.scopeValue.toLowerCase().replace(/ /g, "");

          if (obj.modelDef.requiredEventFields.some(field => field === tempfield)) {} else {
            obj.modelDef.requiredEventFields.push(tempfield);
          }
        } //If the model is trained by counting events at the end of the session or sequence then the true event types required are in the "Count" statement in the model's feature


        if (obj.modelDef.histogramEventTypes.includes('session-end') || obj.modelDef.histogramEventTypes.includes('sequence-end')) {
          obj.modelDef.requiredEventTypes = obj.modelDef.feature.substring(obj.modelDef.feature.indexOf(",") + 1, obj.modelDef.feature.lastIndexOf(")")).replace(/ /g, "").split(",");

          for (var i = obj.modelDef.requiredEventTypes.length - 1; i >= 0; i--) {
            if (obj.modelDef.requiredEventTypes[i].startsWith("'") && obj.modelDef.requiredEventTypes[i].endsWith("'") && obj.modelDef.requiredEventTypes[i].charAt(1).match(/[a-z]/) != null) {
              obj.modelDef.requiredEventTypes[i] = obj.modelDef.requiredEventTypes[i].replace(/'/g, "");
            } else {
              obj.modelDef.requiredEventTypes.splice(i, 1);
            }
          }

          obj.ruleDef.requiredEvents = obj.modelDef.requiredEventTypes; //Otherwise we can simply use the "histogramEventTypes" field
        } else {
          if (obj.modelDef.histogramEventTypes.includes(':')) {
            obj.modelDef.requiredEventTypes = obj.modelDef.histogramEventTypes.split(":");
            obj.ruleDef.requiredEvents = obj.modelDef.requiredEventTypes;
          } else {
            obj.modelDef.requiredEventTypes = [];
            obj.modelDef.requiredEventTypes.push(obj.modelDef.histogramEventTypes);
            obj.ruleDef.requiredEvents = obj.modelDef.requiredEventTypes;
          }
        }
      } else {
        //If there is no model then use the rule definition field
        obj.ruleDef.requiredEvents = obj.ruleDef.ruleEventTypes;
      }
    });

    if (this.onPreviousSession) {
      this.bootstrapEventTypes();
    } else {
      this.getEventTypes();
    }
  }

  getEventTypes() {
    this.eventTypes = [];
    this.rulesAndModels.forEach((obj, index) => {
      if (obj.populating != 'N/A') {
        obj.ruleDef.requiredEvents.forEach((obj2, index2) => {
          if (this.eventTypes.some(event => event.name === obj2)) {} else {
            this.eventTypes.push({
              name: obj2
            });
          }
        });
      }
    });
    this.getEventTypeSessions(0);
  }

  getEventTypeSessions(offset) {
    // console.log('getting event types offset: '+offset);
    var counter = 0;
    var tempKeys = [];
    var tempArray = [];
    var tempAdded = 0;
    this.eventTypes.forEach((obj, index) => {
      tempKeys.push(obj);
    });
    this.todoEventTypes = tempKeys.length;

    for (var a = 0; a < tempKeys.length && tempAdded <= this.allowedEventTypeCount; a++) {
      if (this.doneEventTypes.some(event => event.name === tempKeys[a].name)) {} else {
        //  console.log('pushing '+tempKeys[a].name+' to doneEventTypes');
        tempArray.push(tempKeys[a]);
        this.doneEventTypes.push(tempKeys[a]);
        tempAdded++;
      }
    } //Check all event types if they exist


    tempArray.forEach((obj, index) => {
      if (obj != undefined) {
        // console.log('querying for '+obj.name);
        this.activeEventTypes++;
        chrome.tabs.sendMessage(this.tabID, {
          message: "eventTypeSearch",
          eventType: obj,
          queryUnit: this.queryUnit,
          queryUnitNum: this.queryUnitNum
        }, response => {
          if (typeof response == 'undefined') {
            console.log('response is undefined');
            this.errors.push('error fetching all session IDs for event type: ' + obj.name + '. Trying again');
            this.errorVisible = true;

            for (var a = 0; a < this.doneEventTypes.length; a++) {
              if (this.doneEventTypes[a].name === obj.name) this.doneEventTypes.splice(a, 1);
            }

            this.getEventTypeSessions(offset);
          } else {
            this.activeEventTypes--;
            this.eventTypes.forEach((obj2, index2) => {
              if (obj.name === obj2.name) {
                obj2.response = response;
                obj2.todoSessionIDs = [];
                obj2.todoAssetIDs = [];
                obj2.todoSessionEventIDs = [];
                obj2.todoAssetEventIDs = [];
                obj2.doneSessionIDs = [];
                obj2.doneAssetIDs = [];
                obj2.doneSessionEventIDs = [];
                obj2.doneAssetEventIDs = [];
                obj2.sessionEventDetails = [];
                obj2.sessionEventFields = [];
                obj2.assetEventDetails = [];
                obj2.assetEventFields = [];

                if (Object.keys(obj2.response.entities).length != 0) {
                  obj2.populating = true;
                } else {
                  obj2.populating = false;
                } //console.log('counter BEFORE = ',counter);


                counter = counter + 1; //console.log('counter AFTER = ',counter);            
                //console.log('counter: '+counter+' for offset: '+offset);
                //console.log('tempKeys.length = ',tempKeys.length);
                //console.log('this.doneCountEventTypes BEFORE = ',this.doneCountEventTypes);             

                this.doneCountEventTypes = this.doneCountEventTypes + 1; //console.log('this.doneCountEventTypes AFTER = ',this.doneCountEventTypes);
                //console.log('this.dataValidationProgress BEFORE = ',this.dataValidationProgress);

                this.dataValidationProgress = Math.round(this.doneCountEventTypes / this.todoEventTypes * 20 + 40); //console.log('this.dataValidationProgress AFTER = ',this.dataValidationProgress);

                if (counter === this.allowedEventTypeCount + 1 || this.todoEventTypes - this.doneCountEventTypes === 0) {
                  offset = offset + 1;

                  if (this.doneCountEventTypes < tempKeys.length) {
                    //console.log('short, running again');
                    this.getEventTypeSessions(offset);
                  } else {
                    if (obj.response.entities.asset != undefined) obj2.response.entities.asset.sort((a, b) => a.assetSequenceInfo.numOfEvents > b.assetSequenceInfo.numOfEvents ? -1 : 1);
                    if (obj.response.entities.session != undefined) obj2.response.entities.session.sort((a, b) => a.sessionInfo.numOfEvents > b.sessionInfo.numOfEvents ? -1 : 1);
                    console.log('starting to get session details');
                    this.getEventTypeSessionDetails(0);
                  }
                }
              }
            });
          }
        });
      }
    });
  }

  getEventTypeSessionDetails(offset) {
    var counter = 0;
    var tempKeys = [];
    var tempArray = [];
    var tempAdded = 0;
    this.eventTypes.forEach((obj, index) => {
      if (obj.response.entities.session != undefined) tempKeys.push(obj);
    });
    this.todoEventTypeSessions = tempKeys.length;

    for (var a = 0; a < tempKeys.length && tempAdded <= this.allowedEventTypeCount; a++) {
      //console.log('tempAdded: '+tempAdded);
      if (this.doneEventTypeSessions.some(event => event.name === tempKeys[a].name)) {} else {
        //console.log('pushing '+tempKeys[a].name+' to doneEventTypeSessions');
        tempArray.push(tempKeys[a]);
        this.doneEventTypeSessions.push(tempKeys[a]);
        tempAdded++;
      }
    }

    tempArray.forEach((obj, index) => {
      this.eventTypes.forEach((obj2, index2) => {
        if (obj.name === obj2.name) {
          obj2.inSession = true;
          obj2.sessionCount = obj2.response.entities.session.length;
          obj2.totalCount = obj2.totalCount + obj2.response.entities.session.length;
          var tempSessions = 0;
          obj2.response.entities.session.forEach((obj3, index3) => {
            if (index3 < this.allowedEventTypeCount) {
              tempSessions++;
              axios__WEBPACK_IMPORTED_MODULE_13___default()('https://' + this.host + '/uba/api/sequence/events/eventType?sequenceType=session&sequenceId=' + obj3.sessionInfo.sessionId + '&eventType=' + obj2.name + '&numberOfResults=' + this.allowedEventsPerSession, {
                method: 'GET',
                withCredentials: 'include'
              }).then(response => {
                for (var i = 0; i < Object.keys(response.data).length; i++) {
                  obj2.todoSessionEventIDs.push({
                    'sessionId': obj3.sessionInfo.sessionId,
                    'eventId': response.data[i]
                  });
                }

                tempSessions--;

                if (tempSessions === 0) {
                  this.doneCountEventTypeSessions++;
                  counter++;
                }

                this.dataValidationProgress = Math.round(this.doneCountEventTypeSessions / this.todoEventTypeSessions * 10 + 60); //console.log('counter: for event type sessions '+counter+' for offset: '+offset);

                if (tempSessions === 0 && (counter === this.allowedEventTypeCount + 1 || this.todoEventTypeSessions - this.doneCountEventTypeSessions === 0)) {
                  offset++; //console.log('counter: '+counter+' === '+this.allowedEventTypeCount+1+'. offset now '+offset);

                  if (this.doneCountEventTypeSessions < tempKeys.length) {
                    this.getEventTypeSessionDetails(offset);
                  } else {
                    console.log('Moving to Asset Event Details here');
                    this.getEventTypeAssetDetails(0);
                  }
                }
              }).catch(error => {
                console.log(error);
                this.errors.push('Error fetching single session for event type: ' + obj2.name);
                this.errorVisible = true;
              });
            }
          });
        }
      });
    });
  }

  getEventTypeAssetDetails(offset) {
    var counter = 0;
    var tempKeys = [];
    var tempArray = [];
    var tempAdded = 0;
    this.eventTypes.forEach((obj, index) => {
      if (obj.response.entities.asset != undefined) tempKeys.push(obj);
    });
    this.todoEventTypeAssets = tempKeys.length;

    for (var a = 0; a < tempKeys.length && tempAdded <= this.allowedEventTypeCount; a++) {
      if (this.doneEventTypeAssets.some(event => event.name === tempKeys[a].name)) {} else {
        tempArray.push(tempKeys[a]);
        this.doneEventTypeAssets.push(tempKeys[a]);
        tempAdded++;
      }
    }

    tempArray.forEach((obj, index) => {
      this.eventTypes.forEach((obj2, index2) => {
        if (obj.name === obj2.name) {
          obj2.inAsset = true;
          obj2.assetCount = obj2.response.entities.asset.length;
          obj2.totalCount = obj2.totalCount + obj2.response.entities.asset.length;
          var tempSessions = 0;
          obj2.response.entities.asset.forEach((obj3, index3) => {
            if (index3 < this.allowedEventTypeCount) {
              tempSessions++;
              axios__WEBPACK_IMPORTED_MODULE_13___default()('https://' + this.host + '/uba/api/sequence/events/eventType?sequenceType=asset&sequenceId=' + obj3.assetSequenceInfo.assetSequenceId + '&eventType=' + obj2.name + '&numberOfResults=' + this.allowedEventsPerSession, {
                method: 'GET',
                withCredentials: 'include'
              }).then(response => {
                for (var i = 0; i < Object.keys(response.data).length; i++) {
                  obj2.todoAssetEventIDs.push({
                    'sessionId': obj3.assetSequenceInfo.assetSequenceId,
                    'assetId': obj3.assetSequenceInfo.assetId,
                    'eventId': response.data[i]
                  });
                }

                tempSessions--;

                if (tempSessions === 0) {
                  this.doneCountEventTypeAssets++;
                  counter++;
                }

                this.dataValidationProgress = Math.round(this.doneCountEventTypeAssets / this.todoEventTypeAssets * 10 + 70); //console.log('counter: for event type sessions '+counter+' for offset: '+offset);

                if (tempSessions === 0 && (counter === this.allowedEventTypeCount + 1 || this.todoEventTypeAssets - this.doneCountEventTypeAssets === 0)) {
                  offset++; //console.log('counter: '+counter+' === '+this.allowedEventTypeCount+1+'. offset now '+offset);

                  if (this.doneCountEventTypeAssets < tempKeys.length) {
                    this.getEventTypeAssetDetails(offset);
                  } else {
                    console.log('Moving to Session Event Details here');
                    this.checkEventTypeSessionDetails(0);
                  }
                }
              }).catch(error => {
                console.log(error);
                this.errors.push('Error fetching single session for event type: ' + obj2.name);
                this.errorVisible = true;
              });
            }
          });
        }
      });
    });
  }

  checkEventTypeSessionDetails(offset) {
    var counter = 0;
    var tempKeys = [];
    var tempArray = [];
    var tempAdded = 0;
    this.eventTypes.forEach((obj, index) => {
      if (obj.response.entities.session != undefined && obj.todoSessionEventIDs.length !== 0) tempKeys.push(obj);
    });
    this.todoEventTypeSessionsDetails = tempKeys.length;

    for (var a = 0; a < tempKeys.length && tempAdded <= this.allowedEventTypeSessionCount; a++) {
      // console.log('tempAdded: ',tempAdded);
      if (this.doneEventTypeSessionsDetails.some(event => event.name === tempKeys[a].name)) {} else {
        // console.log('pushing ',tempKeys[a].name,' to doneEventTypeSessionsDetails');
        tempArray.push(tempKeys[a]);
        this.doneEventTypeSessionsDetails.push(tempKeys[a]);
        tempAdded++;
      }
    }

    tempArray.forEach((obj, index) => {
      this.eventTypes.forEach((obj2, index2) => {
        if (obj.name === obj2.name) {
          var tempSessions = 0;
          obj2.todoSessionEventIDs.forEach((obj4, index4) => {
            if (obj2.doneSessionEventIDs.some(event => event.sessionId === obj4.sessionId && event.eventId === obj4.eventId)) {} else {
              obj2.doneSessionEventIDs.push({
                'sessionId': obj4.sessionId,
                'eventId': obj4.eventId
              });
              tempSessions++;
              axios__WEBPACK_IMPORTED_MODULE_13___default()('https://' + this.host + '/uba/api/timeline/events/start?username=*&startSequenceType=session&startSequenceId=' + obj4.sessionId + '&preferredNumberOfEvents=1&anomalyOnly=false&sequenceTypes=web&sequenceTypes=session&sequenceTypes=endpoint&sequenceTypes=file&startEventId=' + obj4.eventId, {
                method: 'GET',
                withCredentials: 'include'
              }).then(response => {
                obj2.sessionEventDetails.push(response.data);
                obj2.sessionEventDetails.forEach(obj5 => {
                  if (typeof obj5.firstEvent !== 'undefined') {
                    if (typeof obj5.aggregatedEvents[0].es[0].fields.rawlog_refs !== 'undefined') {
                      obj5.firstEvent.fields.rawEventSearch = '{"rawlog_refs":' + JSON.stringify(obj5.aggregatedEvents[0].es[0].fields.rawlog_refs) + '}';
                    }

                    Object.keys(obj5.firstEvent.fields).forEach(obj6 => {
                      if (obj2.sessionEventFields.some(theField => theField.toLowerCase().replace(/ /g, "") === obj6.toLowerCase().replace(/ /g, ""))) {} else {
                        obj2.sessionEventFields.push(obj6.toLowerCase().replace(/ /g, ""));
                      }
                    });
                  }
                });
                tempSessions--;

                if (tempSessions === 0) {
                  this.doneCountEventTypeSessionsDetails++;
                  counter++;
                }

                this.dataValidationProgress = Math.round(this.doneCountEventTypeSessionsDetails / this.todoEventTypeSessionsDetails * 10 + 80); //console.log('counter: for event type sessions '+counter+' for offset: '+offset);

                if (tempSessions === 0 && (counter === this.allowedEventTypeSessionCount + 1 || this.todoEventTypeSessionsDetails - this.doneCountEventTypeSessionsDetails === 0)) {
                  offset++;

                  if (this.doneCountEventTypeSessionsDetails < tempKeys.length) {
                    this.checkEventTypeSessionDetails(offset);
                  } else {
                    this.checkEventTypeAssetDetails(0);
                  }
                }
              }).catch(error => {
                console.log(error);
                this.errors.push('Error fetching single session event for event type: ' + obj2.name);
                this.errorVisible = true;
              });
            }
          });
        }
      });
    });
  }

  checkEventTypeAssetDetails(offset) {
    var counter = 0;
    var tempKeys = [];
    var tempArray = [];
    var tempAdded = 0;
    this.eventTypes.forEach((obj, index) => {
      if (obj.response.entities.asset != undefined && obj.todoAssetEventIDs.length !== 0) tempKeys.push(obj);
    });
    this.todoEventTypeAssetsDetails = tempKeys.length;

    for (var a = 0; a < tempKeys.length && tempAdded <= this.allowedEventTypeSessionCount; a++) {
      //console.log('tempAdded: '+tempAdded);
      if (this.doneEventTypeAssetsDetails.some(event => event.name === tempKeys[a].name)) {} else {
        //console.log('pushing '+tempKeys[a].name+' to doneEventTypeSessionsDetails');
        tempArray.push(tempKeys[a]);
        this.doneEventTypeAssetsDetails.push(tempKeys[a]);
        tempAdded++;
      }
    }

    tempArray.forEach((obj, index) => {
      this.eventTypes.forEach((obj2, index2) => {
        if (obj.name === obj2.name) {
          var tempSessions = 0;
          obj2.todoAssetEventIDs.forEach((obj4, index4) => {
            if (obj2.doneAssetEventIDs.some(event => event.sessionId === obj4.sessionId && event.eventId === obj4.eventId)) {} else {
              obj2.doneAssetEventIDs.push({
                'sessionId': obj4.sessionId,
                'eventId': obj4.eventId
              });
              tempSessions++;
              axios__WEBPACK_IMPORTED_MODULE_13___default()('https://' + this.host + '/uba/api/asset/timeline/events/start?assetId=' + obj4.assetId + '&startAssetSequenceId=' + obj4.sessionId + '&preferredNumberOfEvents=1&anomalyOnly=false&eventCategories=*&sequenceTypes=asset&eventTypes=' + obj2.name + '&eventTypeInclude=true&startEventId=' + obj4.eventId, {
                method: 'GET',
                withCredentials: 'include'
              }).then(response => {
                obj2.assetEventDetails.push(response.data);
                obj2.assetEventDetails.forEach(obj5 => {
                  if (typeof obj5.firstEvent !== 'undefined') {
                    if (typeof obj5.aggregatedEvents[0].es[0].fields.rawlog_refs !== 'undefined') {
                      obj5.firstEvent.fields.rawEventSearch = '{"rawlog_refs":' + JSON.stringify(obj5.aggregatedEvents[0].es[0].fields.rawlog_refs) + '}';
                    }

                    Object.keys(obj5.firstEvent.fields).forEach(obj6 => {
                      if (obj2.assetEventFields.some(theField => theField.toLowerCase().replace(/ /g, "") === obj6.toLowerCase().replace(/ /g, ""))) {} else {
                        obj2.assetEventFields.push(obj6.toLowerCase().replace(/ /g, ""));
                      }
                    });
                  }
                });
                tempSessions--;

                if (tempSessions === 0) {
                  this.doneCountEventTypeAssetsDetails++;
                  counter++;
                }

                this.dataValidationProgress = Math.round(this.doneCountEventTypeAssetsDetails / this.todoEventTypeAssetsDetails * 10 + 80); //console.log('counter: for event type sessions '+counter+' for offset: '+offset);

                if (tempSessions === 0 && (counter === this.allowedEventTypeSessionCount + 1 || this.todoEventTypeAssetsDetails - this.doneCountEventTypeAssetsDetails === 0)) {
                  offset++; //console.log('counter: '+counter+' === '+this.allowedEventTypeSessionCount+1+'. offset now '+offset);

                  if (this.doneCountEventTypeAssetsDetails < tempKeys.length) {
                    this.checkEventTypeAssetDetails(offset);
                  } else {
                    console.log('Moved on to getRawEvents here');
                    this.getRawEvents(0, 0);
                  }
                }
              }).catch(error => {
                console.log(error);
                this.errors.push('Error fetching single session event for event type: ' + obj2.name);
                this.errorVisible = true;
              });
            }
          });
        }
      });
    });
  }

  getRawEvents(offset, retryAttempt) {
    console.log('started getRawEvents. offset: ', offset);
    this.retryAttemptRawEventsCount = retryAttempt;
    var counter = 0;
    var tempKeys = [];
    var tempArray = [];
    var tempAdded = 0;
    this.eventTypes.forEach(obj => {
      obj.sessionEventDetails.forEach(obj2 => {
        if (typeof obj2.firstEvent.fields.rawEventSearch !== 'undefined' && obj2.firstEvent.fields.rawEventSearch != null && obj2.firstEvent.fields.rawEventSearch != '') {
          if (tempKeys.some(event => event === obj2.firstEvent.fields.rawEventSearch)) {} else {
            tempKeys.push(obj2.firstEvent.fields.rawEventSearch);
          }

          if (typeof obj2.firstEvent.fields.dlEvent !== 'undefined') {
            if (this.doneRawEvents.some(event => event === obj2.firstEvent.fields.rawEventSearch)) {} else {
              this.validDoneRawEventsCount++;
              this.doneRawEventsCount++;
              this.doneRawEvents.push(obj2.firstEvent.fields.rawEventSearch);
            }
          }
        }
      });
      obj.assetEventDetails.forEach(obj2 => {
        if (typeof obj2.firstEvent.fields.rawEventSearch !== 'undefined' && obj2.firstEvent.fields.rawEventSearch != null && obj2.firstEvent.fields.rawEventSearch != '') {
          if (tempKeys.some(event => event === obj2.firstEvent.fields.rawEventSearch)) {} else {
            tempKeys.push(obj2.firstEvent.fields.rawEventSearch);
          }

          if (typeof obj2.firstEvent.fields.dlEvent !== 'undefined') {
            if (this.doneRawEvents.some(event => event === obj2.firstEvent.fields.rawEventSearch)) {} else {
              this.validDoneRawEventsCount++;
              this.doneRawEventsCount++;
              this.doneRawEvents.push(obj2.firstEvent.fields.rawEventSearch);
            }
          }
        }
      });
    });
    this.todoRawEventsCount = tempKeys.length;
    if (this.validDoneRawEventsCount != this.todoRawEventsCount) this.visibleDataValidationProgress = true;

    for (var a = 0; a < tempKeys.length && tempAdded <= this.allowedRawEventCount; a++) {
      if (this.doneRawEvents.some(event => event === tempKeys[a])) {} else {
        tempArray.push(tempKeys[a]);
        this.doneRawEvents.push(tempKeys[a]);
        tempAdded++;
        console.log('tempAdded updated to ', tempAdded);
      }
    }

    var templength = this.doneRawEvents.length;
    console.log('this.doneRawEvents.length = ', templength);
    console.log('this.doneRawEventsCount = ', this.doneRawEventsCount);

    if (tempArray.length === 0) {
      console.log('tempArray.length === 0, nothing to query');

      if (this.onPreviousSession) {
        this.findRequiredData(this.rulesAndModels);
      } else {
        this.bootstrapEventTypes();
      }
    }

    console.log('setup arrays, tempArray.length = ', tempArray.length);

    if (offset === 0 && retryAttempt === 0) {
      console.log('First offset and no retry check');
      console.log('this.todoRawEventsCount = ', this.todoRawEventsCount);
      console.log('this.validDoneRawEventsCount = ', this.validDoneRawEventsCount);
      console.log('this.doneRawEventsCount = ', this.doneRawEventsCount);
    } //Get raw events from DL all rules if triggered


    tempArray.forEach(obj => {
      if (obj != undefined) {
        this.activeRawEvents++;
        chrome.tabs.sendMessage(this.tabID, {
          message: "rawEventSearch",
          rawlog_refs: obj
        }, response => {
          if (typeof response[Object.keys(response)[0]] !== 'undefined' && typeof response[Object.keys(response)[0]][0].hits !== 'undefined') {
            this.eventTypes.forEach(obj2 => {
              obj2.sessionEventDetails.forEach(obj3 => {
                if (obj3.firstEvent.fields.rawEventSearch === obj) {
                  obj3.firstEvent.fields.dlEvent = response[Object.keys(response)[0]][0].hits.hits[0]._source;
                }
              });
              obj2.assetEventDetails.forEach(obj3 => {
                if (obj3.firstEvent.fields.rawEventSearch === obj) {
                  obj3.firstEvent.fields.dlEvent = response[Object.keys(response)[0]][0].hits.hits[0]._source;
                }
              });
            });
            this.activeEventTypes--;
            counter++;
            this.doneRawEventsCount++;
            this.validDoneRawEventsCount++;
            this.dataValidationProgress = Math.round(this.doneRawEventsCount / this.todoRawEventsCount * 10 + 90);
            console.log('got a response');
            console.log('counter = ', counter);
            console.log('offset = ', counter);
            console.log('this.todoRawEventsCount = ', this.todoRawEventsCount);
            var templength = this.doneRawEvents.length;
            console.log('this.doneRawEvents.length = ', templength);
            console.log('this.doneRawEventsCount = ', this.doneRawEventsCount);
            console.log('this.validDoneRawEventsCount = ', this.validDoneRawEventsCount);

            if (counter === this.allowedRawEventCount + 1 || this.todoRawEventsCount - this.doneRawEventsCount === 0) {
              offset++;

              if (this.doneRawEventsCount < tempKeys.length) {
                console.log('short, running again');
                this.getRawEvents(offset, this.retryAttemptRawEventsCount);
              } else {
                if (this.doneRawEventsCount === this.validDoneRawEventsCount) {
                  // All raw events successfully queired, moving on to bootstrapEventTypes
                  console.log('All raw events successfully queired, moving on');

                  if (this.onPreviousSession) {
                    this.findRequiredData(this.rulesAndModels);
                  } else {
                    this.bootstrapEventTypes();
                  }
                } else {
                  if (this.retryAttemptRawEventsCount <= 10) {
                    // Some raw events not queired successfully and retry attempt is less than 10, go back back fetch missing raw events
                    console.log('Some raw events not queired successfully and retry attempt is less than 10, go back back fetch missing raw events');
                    console.log('this.retryAttemptRawEventsCount = ', this.retryAttemptRawEventsCount);
                    console.log('this.todoRawEventsCount = ', this.todoRawEventsCount);
                    console.log('this.validDoneRawEventsCount = ', this.validDoneRawEventsCount);
                    console.log('this.doneRawEventsCount = ', this.doneRawEventsCount);
                    this.retryAttemptRawEventsCount++;
                    this.doneRawEventsCount = 0;
                    this.rawEventErrors = 0;
                    this.validDoneRawEventsCount = 0;
                    this.doneRawEvents = [];
                    this.getRawEvents(0, this.retryAttemptRawEventsCount);
                  } else {
                    // Some raw events still not queired successfuly, but retry attemps is greater than 10 so we need to move on
                    console.log('Some raw events still not queired successfuly, but retry attemps is greater than 10 so we need to move on');
                    console.log('this.todoRawEventsCount = ', this.todoRawEventsCount);
                    console.log('this.validDoneRawEventsCount = ', this.validDoneRawEventsCount);
                    console.log('this.doneRawEventsCount = ', this.doneRawEventsCount);

                    if (this.onPreviousSession) {
                      this.findRequiredData(this.rulesAndModels);
                    } else {
                      this.bootstrapEventTypes();
                    }
                  }
                }
              }
            }
          } else {
            this.rawEventErrors++;
            this.errorVisible = true;
            this.activeEventTypes--;
            counter++;
            this.doneRawEventsCount++;
            this.dataValidationProgress = Math.round(this.doneRawEventsCount / this.todoRawEventsCount * 10 + 90);
            this.sleep(5000);
            console.log('got a response');
            console.log('counter = ', counter);
            console.log('offset = ', counter);
            console.log('this.todoRawEventsCount = ', this.todoRawEventsCount);
            var templength = this.doneRawEvents.length;
            console.log('this.doneRawEvents.length = ', templength);
            console.log('this.doneRawEventsCount = ', this.doneRawEventsCount);
            console.log('this.validDoneRawEventsCount = ', this.validDoneRawEventsCount);

            if (counter === this.allowedRawEventCount + 1 || this.todoRawEventsCount - this.doneRawEventsCount === 0) {
              offset++;

              if (this.doneRawEventsCount < tempKeys.length) {
                console.log('short, running again');
                this.getRawEvents(offset, this.retryAttemptRawEventsCount);
              } else {
                if (this.doneRawEventsCount === this.validDoneRawEventsCount) {
                  // All raw events successfully queired, moving on to bootstrapEventTypes
                  console.log('All raw events successfully queired, moving on');

                  if (this.onPreviousSession) {
                    this.findRequiredData(this.rulesAndModels);
                  } else {
                    this.bootstrapEventTypes();
                  }
                } else {
                  if (this.retryAttemptRawEventsCount <= 10) {
                    // Some raw events not queired successfully and retry attempt is less than 10, go back back fetch missing raw events
                    console.log('Some raw events not queired successfully and retry attempt is less than 10, go back back fetch missing raw events');
                    console.log('this.retryAttemptRawEventsCount = ', this.retryAttemptRawEventsCount);
                    console.log('this.todoRawEventsCount = ', this.todoRawEventsCount);
                    console.log('this.validDoneRawEventsCount = ', this.validDoneRawEventsCount);
                    console.log('this.doneRawEventsCount = ', this.doneRawEventsCount);
                    this.retryAttemptRawEventsCount++;
                    this.doneRawEventsCount = 0;
                    this.rawEventErrors = 0;
                    this.validDoneRawEventsCount = 0;
                    this.doneRawEvents = [];
                    this.getRawEvents(0, this.retryAttemptRawEventsCount);
                  } else {
                    // Some raw events still not queired successfuly, but retry attemps is greater than 3 so we need to move on
                    console.log('Some raw events still not queired successfuly, but retry attemps is greater than 3 so we need to move on');
                    console.log('this.todoRawEventsCount = ', this.todoRawEventsCount);
                    console.log('this.validDoneRawEventsCount = ', this.validDoneRawEventsCount);
                    console.log('this.doneRawEventsCount = ', this.doneRawEventsCount);

                    if (this.onPreviousSession) {
                      this.findRequiredData(this.rulesAndModels);
                    } else {
                      this.bootstrapEventTypes();
                    }
                  }
                }
              }
            }
          }
        });
      }
    });
  }

  bootstrapEventTypes() {
    this.eventTypes.forEach((obj2, index2) => {
      obj2.totalCount = 0;
      obj2.rules = [];
      obj2.models = [];
      obj2.assetEventIDs = [];
      obj2.requiredEventFields = [];
      obj2.presentEventFields = [];
      obj2.missingEventFields = [];
      obj2.missingEventFieldTable = [];
      obj2.fieldsPopulating = 0;
      obj2.fieldsPopulatingPercent = 0;
      obj2.modelsPopulating = 0;
      obj2.modelsPopulatingPercent = 0;
      obj2.rulesCouldTrigger = 0;
      obj2.rulesCouldTriggerPercent = 0;
      obj2.uniqueUsersList = [];
      obj2.uniqueHostsList = [];
      obj2.uniqueIPsList = [];
      obj2.uniqueUsers = 0;
      obj2.uniqueHosts = 0;
      obj2.uniqueIPs = 0;

      if (obj2.response.entities.session != undefined) {
        obj2.response.entities.session.forEach((obj3, index3) => {
          if (!obj3.sessionInfo.username.endsWith('$')) {
            if (obj2.uniqueUsersList.some(user => user.name === obj3.sessionInfo.username.toLowerCase())) {} else {
              obj2.uniqueUsers = obj2.uniqueUsers + 1;
              obj2.uniqueUsersList.push({
                'name': obj3.sessionInfo.username.toLowerCase()
              });
            }

            if (this.summary.uniqueUsers.some(user => user.name === obj3.sessionInfo.username.toLowerCase())) {} else {
              this.summary.uniqueUsers.push({
                'name': obj3.sessionInfo.username.toLowerCase()
              });
              this.summary.uniqueUserCount = this.summary.uniqueUserCount + 1;
            }
          }
        });
      }

      if (obj2.response.entities.asset != undefined) {
        obj2.response.entities.asset.forEach((obj3, index3) => {
          if (!((obj3.assetSequenceInfo.assetId.match(/\d\./g) || []).length === 3)) {
            if (!((obj3.assetSequenceInfo.assetId.match(/\:/g) || []).length >= 1)) {
              if (obj2.uniqueHostsList.some(user => user.name === obj3.assetSequenceInfo.assetId.toLowerCase())) {} else {
                obj2.uniqueHosts = obj2.uniqueHosts + 1;
                obj2.uniqueHostsList.push({
                  'name': obj3.assetSequenceInfo.assetId.toLowerCase()
                });
              }

              if (this.summary.uniqueHosts.some(user => user.name === obj3.assetSequenceInfo.assetId.toLowerCase())) {} else {
                this.summary.uniqueHosts.push({
                  'name': obj3.assetSequenceInfo.assetId.toLowerCase()
                });
                this.summary.uniqueHostCount = this.summary.uniqueHostCount + 1;
              }
            }
          }
        });
      }

      if (obj2.response.entities.lockout != undefined) {
        obj2.response.entities.lockout.forEach((obj3, index3) => {
          if (!obj3.lockoutInfo.username.endsWith('$')) {
            if (obj2.uniqueUsersList.some(user => user.name === obj3.lockoutInfo.username.toLowerCase())) {} else {
              obj2.uniqueUsers = obj2.uniqueUsers + 1;
              obj2.uniqueUsersList.push({
                'name': obj3.lockoutInfo.username.toLowerCase()
              });
            }

            if (this.summary.uniqueUsers.some(user => user.name === obj3.lockoutInfo.username.toLowerCase())) {} else {
              this.summary.uniqueUsers.push({
                'name': obj3.lockoutInfo.username.toLowerCase()
              });
              this.summary.uniqueUserCount = this.summary.uniqueUserCount + 1;
            }
          }
        });
      }

      obj2.sequenceTypes = [];
      Object.keys(obj2.response.entities).forEach((obj3, index3) => {
        if (obj3 != 'session' && obj3 != 'asset' && obj3 != 'lockout') obj2.sequenceTypes.push(obj3);
      });
      obj2.sequenceTypes.forEach((obj3, index3) => {
        obj2.response.entities[obj3].forEach((obj4, index4) => {
          if (!obj4.dataFeedInfo.username.endsWith('$')) {
            if (obj2.uniqueUsersList.some(user => user.name === obj4.dataFeedInfo.username.toLowerCase())) {} else {
              obj2.uniqueUsers = obj2.uniqueUsers + 1;
              obj2.uniqueUsersList.push({
                'name': obj4.dataFeedInfo.username.toLowerCase()
              });
            }

            if (this.summary.uniqueUsers.some(user => user.name === obj4.dataFeedInfo.username.toLowerCase())) {} else {
              this.summary.uniqueUsers.push({
                'name': obj4.dataFeedInfo.username.toLowerCase()
              });
              this.summary.uniqueUserCount = this.summary.uniqueUserCount + 1;
            }
          }
        });
      });

      if (obj2.response.entities.endpoint != undefined) {
        obj2.inEndpoint = true;
        obj2.endpointCount = obj2.response.entities.endpoint.length;
        obj2.totalCount = obj2.totalCount + obj2.response.entities.endpoint.length;
      }

      if (obj2.response.entities.file != undefined) {
        obj2.inFile = true;
        obj2.fileCount = obj2.response.entities.file.length;
        obj2.totalCount = obj2.totalCount + obj2.response.entities.file.length;
      }

      if (obj2.response.entities.web != undefined) {
        obj2.inWeb = true;
        obj2.webCount = obj2.response.entities.web.length;
        obj2.totalCount = obj2.totalCount + obj2.response.entities.web.length;
      }

      if (obj2.response.entities.database != undefined) {
        obj2.inDatabase = true;
        obj2.databaseCount = obj2.response.entities.database.length;
        obj2.totalCount = obj2.totalCount + obj2.response.entities.database.length;
      }

      if (obj2.response.entities.lockout != undefined) {
        obj2.inLockout = true;
        obj2.lockoutCount = obj2.response.entities.lockout.length;
        obj2.totalCount = obj2.totalCount + obj2.response.entities.lockout.length;
      }

      if (Object.keys(obj2.response.entities).length != 0) {
        obj2.populating = true;
      } else {
        obj2.populating = false;
      }
    });
    this.checkFeature();
  }

  checkFeature() {
    this.rulesAndModels.forEach((obj, index) => {
      if (obj.modelDef != undefined) {
        obj.featurePresent = 'false';
      } else {
        obj.featurePresent = 'N/A';
      }

      this.eventTypes.forEach((obj2, index2) => {
        obj2.uniqueUserPercent = Math.round(obj2.uniqueUsers / this.summary.uniqueUserCount * 100);
        obj2.uniqueHostPercent = Math.round(obj2.uniqueHosts / this.summary.uniqueHostCount * 100);

        if (obj.ruleDef.requiredEvents.some(type => type === obj2.name)) {
          if (obj.modelDef != undefined) {
            if (obj.modelDef.modelType === 'NUMERICAL_TIME_OF_WEEK') obj.featurePresent = 'true';
            if (obj.populating === 'true') obj.featurePresent = 'true';

            if (obj2.inSession) {
              obj2.sessionEventFields.forEach((obj3, index) => {
                obj.modelDef.requiredEventFields.forEach((obj4, index) => {
                  if (obj3 === obj4) {
                    if (obj.modelDef.presentEventFields.some(field => field === obj4)) {} else {
                      obj.modelDef.presentEventFields.push(obj3);
                    }
                  }

                  if (obj.modelDef.requiredEventFields.length === obj.modelDef.presentEventFields.length) obj.featurePresent = 'true';
                });
              });
            }

            if (obj2.inAsset) {
              obj2.assetEventFields.forEach((obj3, index) => {
                obj.modelDef.requiredEventFields.forEach((obj4, index) => {
                  if (obj3 === obj4) {
                    if (obj.modelDef.presentEventFields.some(field => field === obj4)) {} else {
                      obj.modelDef.presentEventFields.push(obj3);
                    }
                  }

                  if (obj.modelDef.requiredEventFields.length === obj.modelDef.presentEventFields.length) obj.featurePresent = 'true';
                });
              });
            }
          }
        }
      });
    });
    this.checkMissingEvents();
  }

  checkMissingEvents() {
    this.rulesAndModels.forEach((obj, index) => {
      this.eventTypes.forEach((obj2, index2) => {
        if (obj.ruleDef.requiredEvents.some(type => type === obj2.name)) {
          if (obj.modelDef != undefined) {
            obj.modelDef.requiredEventFields.forEach((obj3, index) => {
              if (obj.modelDef.presentEventFields.some(field => field === obj3)) {} else {
                if (obj.modelDef.missingEventFields.some(field => field === obj3)) {} else {
                  obj.modelDef.missingEventFields.push(obj3);
                }
              }
            });
          }
        }
      });
    });
    this.addEventDetails();
  }

  addEventDetails() {
    var doneCount = 0;
    this.rulesAndModels.forEach((obj, index) => {
      obj.eventInRuleType = 'false';
      obj.presentEventTypes = [];
      this.eventTypes.forEach((obj2, index2) => {
        if (obj.ruleDef.requiredEvents.some(types => types === obj2.name)) {
          obj2.rules.push(obj.ruleDef);

          if (obj.modelDef != undefined) {
            obj2.models.push(obj.modelDef);
            if (obj.modelDef.populating) obj.ruleDef.modelPopulating = true;
          }

          if (obj2.sessionCount != undefined) {
            obj.inSessions = 'true';

            if (obj.ruleDef.ruleType === 'session') {
              obj.presentEventTypes.push(obj2.name);
              obj.eventInRuleType = 'true';
            }
          } else {
            obj.inSessions = 'false';
          }

          if (obj2.assetCount != undefined) {
            obj.inAssets = 'true';

            if (obj.ruleDef.ruleType === 'asset') {
              obj.presentEventTypes.push(obj2.name);
              obj.eventInRuleType = 'true';
            }
          } else {
            obj.inAssets = 'false';
          }

          if (obj2.endpointCount != undefined) {
            obj.inEndpoints = 'true';

            if (obj.ruleDef.ruleType === 'endpoint') {
              obj.presentEventTypes.push(obj2.name);
              obj.eventInRuleType = 'true';
            }
          } else {
            obj.inEndpoints = 'false';
          }

          if (obj2.fileCount != undefined) {
            obj.inFiles = 'true';

            if (obj.ruleDef.ruleType === 'file') {
              obj.presentEventTypes.push(obj2.name);
              obj.eventInRuleType = 'true';
            }
          } else {
            obj.inFiles = 'false';
          }

          if (obj2.webCount != undefined) {
            obj.inWebs = 'true';

            if (obj.ruleDef.ruleType === 'web') {
              obj.presentEventTypes.push(obj2.name);
              obj.eventInRuleType = 'true';
            }
          } else {
            obj.inWebs = 'false';
          }

          if (obj2.databaseCount != undefined) {
            obj.inDatabase = 'true';

            if (obj.ruleDef.ruleType === 'database') {
              obj.presentEventTypes.push(obj2.name);
              obj.eventInRuleType = 'true';
            }
          } else {
            obj.inDatabase = 'false';
          }

          if (obj2.lockoutCount != undefined) {
            obj.inLockouts = 'true';

            if (obj.ruleDef.ruleType === 'account-lockout') {
              obj.presentEventTypes.push(obj2.name);
              obj.eventInRuleType = 'true';
            }
          } else {
            obj.inLockouts = 'false';
          }

          obj2.ruleCount = obj2.rules.length;
          obj2.modelCount = obj2.models.length; //console.log('still in loop');
        }
      });
      doneCount = doneCount + 1;

      if (doneCount === this.rulesAndModels.length) {
        this.rulesAndModelsDone = this.rulesAndModels;
        this.columns6 = [{
          field: 'ruleCat',
          header: 'Rule Category'
        }, {
          field: 'ruleId',
          header: 'Rule ID'
        }, {
          field: 'ruleName',
          header: 'Rule Name'
        }, {
          field: 'modelName',
          header: 'Model'
        }, {
          field: 'eventInRuleType',
          header: 'Events Present'
        }, {
          field: 'populating',
          header: 'Model Populating'
        }, {
          field: 'hasTriggered',
          header: 'Has Triggered'
        }];
      }
    });
    this.eventTypes.forEach((obj2, index2) => {
      obj2.models.forEach((obj3, index2) => {
        if (obj3.populating) {
          obj2.modelsPopulating = obj2.modelsPopulating + 1;
          obj2.modelsPopulatingPercent = Math.round(obj2.modelsPopulating / obj2.modelCount * 100);
          obj2.missingEventFieldTable.forEach((obj5, index5) => {
            obj5.percent = Math.round(obj5.count / (obj2.modelCount - obj2.modelsPopulating) * 100);
          });
        } else {
          obj3.missingEventFields.forEach((obj4, index2) => {
            if (obj2.missingEventFieldTable.length == 0) {
              if (obj3.modelType != 'NUMERICAL_TIME_OF_WEEK') obj2.missingEventFieldTable.push({
                'name': obj4,
                'count': 1,
                'percent': Math.round(1 / (obj2.modelCount - obj2.modelsPopulating) * 100)
              });
            } else {
              if (obj2.missingEventFieldTable.some(field => field.name === obj4)) {
                obj2.missingEventFieldTable.forEach((obj5, index5) => {
                  if (obj5.name === obj4 && obj3.modelType != 'NUMERICAL_TIME_OF_WEEK') {
                    obj5.count = obj5.count + 1;
                    obj5.percent = Math.round(obj5.count / (obj2.modelCount - obj2.modelsPopulating) * 100);
                  }
                });
              } else {
                if (obj3.modelType != 'NUMERICAL_TIME_OF_WEEK') obj2.missingEventFieldTable.push({
                  'name': obj4,
                  'count': 1,
                  'percent': Math.round(1 / (obj2.modelCount - obj2.modelsPopulating) * 100)
                });
              }
            }

            if (obj2.missingEventFields.some(field => field === obj4)) {} else {
              if (obj3.modelType != 'NUMERICAL_TIME_OF_WEEK') obj2.missingEventFields.push(obj4);
            }
          });
        }

        obj3.requiredEventFields.forEach((obj4, index2) => {
          if (obj2.requiredEventFields.some(field => field === obj4)) {} else {
            obj2.requiredEventFields.push(obj4);
          }
        });

        if (obj2.inSession) {
          obj2.sessionEventFields.forEach((obj4, index4) => {
            obj3.requiredEventFields.forEach((obj5, index5) => {
              if (obj4 === obj5) {
                if (obj2.presentEventFields.some(field => field === obj4)) {} else {
                  obj2.presentEventFields.push(obj4);
                }
              }
            });
          });
        }

        if (obj2.inAsset) {
          obj2.assetEventFields.forEach((obj4, index) => {
            obj3.requiredEventFields.forEach((obj5, index) => {
              if (obj4 === obj5) {
                if (obj2.presentEventFields.some(field => field === obj4)) {} else {
                  obj2.presentEventFields.push(obj4);
                }
              }
            });
          });
        }

        obj2.fieldCount = obj2.requiredEventFields.length;
        obj2.fieldsPopulating = obj2.presentEventFields.length;
        obj2.fieldsPopulatingPercent = Math.round(obj2.presentEventFields.length / obj2.requiredEventFields.length * 100);
      });
      obj2.rules.forEach((obj3, index2) => {
        if (obj3.modelPopulating) {
          obj2.rulesCouldTrigger = obj2.rulesCouldTrigger + 1;
          obj2.rulesCouldTriggerPercent = Math.round(obj2.rulesCouldTrigger / obj2.ruleCount * 100);
        }
      });
    });
    this.determineSources(this.eventTypes);
  }

  determineSources(eventTypes) {
    this.sources = [];
    eventTypes.forEach(obj => {
      obj.sessionEventDetails.forEach(obj2 => {
        if (this.sources.some(source => source.source === obj2.firstEvent.fields.source && source.name === obj2.firstEvent.fields.event_type)) {} else {
          this.sources.push({
            'source': obj2.firstEvent.fields.source,
            'name': obj2.firstEvent.fields.event_type,
            'inSession': false,
            'inAsset': false,
            'sessionEvents': [],
            'assetEvents': [],
            'models': obj.models,
            'rules': obj.rules
          });
        }
      });
      obj.assetEventDetails.forEach(obj2 => {
        if (this.sources.some(source => source.source === obj2.firstEvent.fields.source && source.name === obj2.firstEvent.fields.event_type)) {} else {
          this.sources.push({
            'source': obj2.firstEvent.fields.source,
            'name': obj2.firstEvent.fields.event_type,
            'inSession': false,
            'inAsset': false,
            'sessionEvents': [],
            'assetEvents': [],
            'models': obj.models,
            'rules': obj.rules
          });
        }
      });
      obj.sessionEventDetails.forEach(obj2 => {
        this.sources.forEach(obj3 => {
          if (obj3.source === obj2.firstEvent.fields.source && obj3.name === obj2.firstEvent.fields.event_type) {
            obj3.sessionEvents.push(obj2.firstEvent.fields);
            obj3.inSession = true;
          }
        });
      });
      obj.assetEventDetails.forEach(obj2 => {
        this.sources.forEach(obj3 => {
          if (obj3.source === obj2.firstEvent.fields.source && obj3.name === obj2.firstEvent.fields.event_type) {
            obj3.assetEvents.push(obj2.firstEvent.fields);
            obj3.inAsset = true;
          }
        });
      });
    });
    console.log('data validation done');
    this.loading = false;
    this.visibleDataValidationProgress = false;
    this.storeValidationSession();
  }

  exportExcel(table) {
    Promise.all(/*! import() */[__webpack_require__.e(0), __webpack_require__.e(1)]).then(__webpack_require__.t.bind(null, /*! xlsx */ "./node_modules/xlsx/xlsx.js", 7)).then(xlsx => {
      const worksheet = xlsx.utils.json_to_sheet(table);
      const workbook = {
        Sheets: {
          'data': worksheet
        },
        SheetNames: ['data']
      };
      const excelBuffer = xlsx.write(workbook, {
        bookType: 'xlsx',
        type: 'array'
      });
      this.saveAsExcelFile(excelBuffer, "TableExport");
    });
  }

  saveAsExcelFile(buffer, fileName) {
    __webpack_require__.e(/*! import() */ 2).then(__webpack_require__.t.bind(null, /*! file-saver */ "./node_modules/file-saver/dist/FileSaver.min.js", 7)).then(FileSaver => {
      let EXCEL_TYPE = 'application/vnd.openxmlformats-officedocument.spreadsheetml.sheet;charset=UTF-8';
      let EXCEL_EXTENSION = '.xlsx';
      const data = new Blob([buffer], {
        type: EXCEL_TYPE
      });
      FileSaver.saveAs(data, fileName + '_export_' + new Date().getTime() + EXCEL_EXTENSION);
    });
  }

  onEventTypesSelect(required, present) {
    this.selectedRequiredEventTypes = required;
    this.selectedPresentEventTypes = present;
    this.visibleMissingEventTypes = true;
  }

  onEventFieldsSelect(sessionEventFields, assetEventFields, missingTable) {
    //this.selectedRequiredEventFields = required;
    //this.selectedPresentEventFields = present;
    //this.selectedMissingEventFields = missing;
    sessionEventFields = sessionEventFields.sort();
    assetEventFields = assetEventFields.sort();
    this.selectedSessionEventFields = sessionEventFields;
    this.selectedAssetEventFields = assetEventFields;
    this.selectedMissingEventFieldTable = missingTable;
    this.visibleMissingEventFields = true;
  }

  onRuleSelect(rule) {
    this.selectedRule = rule;
    this.visibleRule = true;
  }

  onModelSelect(model) {
    this.selectedModel = model;
    this.visibleModel = true;
  }

  onUsersSelect(users) {
    users = users.sort();
    this.selectedUserList = users;
    this.visibleUserList = true;
  }

  onHostsSelect(hosts) {
    hosts = hosts.sort();
    this.selectedHostList = hosts;
    this.visibleHostList = true;
  }

  onServerSelect() {
    this.visibleServer = true;
  }

}

const HomeView = Object(mobx_react_lite__WEBPACK_IMPORTED_MODULE_15__["observer"])(_c = () => {
  /*#__PURE__*/
  Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_20__["jsxDEV"])(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_20__["Fragment"], {
    children: /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_20__["jsxDEV"])("div", {
      className: "row",
      children: [undefined.showHome && undefined.showRuleTuning ? /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_20__["jsxDEV"])("div", {
        children: /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_20__["jsxDEV"])("div", {
          className: "col-12",
          children: /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_20__["jsxDEV"])("h2", {
            children: "Load Previous Tuning Session"
          }, void 0, false, {
            fileName: _jsxFileName,
            lineNumber: 2285,
            columnNumber: 11
          }, undefined)
        }, void 0, false, {
          fileName: _jsxFileName,
          lineNumber: 2284,
          columnNumber: 11
        }, undefined)
      }, void 0, false, {
        fileName: _jsxFileName,
        lineNumber: 2283,
        columnNumber: 9
      }, undefined) : false, undefined.showHome && undefined.showpDataValidation ? /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_20__["jsxDEV"])("div", {
        className: "col-12",
        children: /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_20__["jsxDEV"])("h2", {
          children: "Load Previous Data Validation Session"
        }, void 0, false, {
          fileName: _jsxFileName,
          lineNumber: 2295,
          columnNumber: 15
        }, undefined)
      }, void 0, false, {
        fileName: _jsxFileName,
        lineNumber: 2294,
        columnNumber: 11
      }, undefined) : false, undefined.showHome ? /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_20__["jsxDEV"])("div", {
        children: [/*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_20__["jsxDEV"])("div", {
          className: "col-6",
          children: [/*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_20__["jsxDEV"])("h2", {
            children: "New Rule Tuning Session"
          }, void 0, false, {
            fileName: _jsxFileName,
            lineNumber: 2302,
            columnNumber: 13
          }, undefined), /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_20__["jsxDEV"])("div", {
            className: "form-group",
            children: [/*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_20__["jsxDEV"])("label", {
              for: "input1",
              children: [/*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_20__["jsxDEV"])("b", {
                children: "Previous days to query"
              }, void 0, false, {
                fileName: _jsxFileName,
                lineNumber: 2304,
                columnNumber: 37
              }, undefined), " "]
            }, void 0, true, {
              fileName: _jsxFileName,
              lineNumber: 2304,
              columnNumber: 17
            }, undefined), /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_20__["jsxDEV"])(primereact_inputtext__WEBPACK_IMPORTED_MODULE_6__["InputText"], {
              value: undefined.queryUnitNum
            }, void 0, false, {
              fileName: _jsxFileName,
              lineNumber: 2305,
              columnNumber: 17
            }, undefined)]
          }, void 0, true, {
            fileName: _jsxFileName,
            lineNumber: 2303,
            columnNumber: 13
          }, undefined), /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_20__["jsxDEV"])("div", {
            className: "form-group",
            children: [/*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_20__["jsxDEV"])("label", {
              for: "input3",
              children: [/*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_20__["jsxDEV"])("b", {
                children: "Risk Score Greater Than"
              }, void 0, false, {
                fileName: _jsxFileName,
                lineNumber: 2308,
                columnNumber: 37
              }, undefined), " "]
            }, void 0, true, {
              fileName: _jsxFileName,
              lineNumber: 2308,
              columnNumber: 17
            }, undefined), /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_20__["jsxDEV"])(primereact_inputtext__WEBPACK_IMPORTED_MODULE_6__["InputText"], {
              value: undefined.queryRiskScore,
              onChange: e => undefined.queryRiskScore = e.target.value
            }, void 0, false, {
              fileName: _jsxFileName,
              lineNumber: 2309,
              columnNumber: 17
            }, undefined)]
          }, void 0, true, {
            fileName: _jsxFileName,
            lineNumber: 2307,
            columnNumber: 13
          }, undefined), /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_20__["jsxDEV"])(primereact_button__WEBPACK_IMPORTED_MODULE_3__["Button"], {
            label: "Get User Sessions",
            onClick: () => undefined.getNotables('session')
          }, void 0, false, {
            fileName: _jsxFileName,
            lineNumber: 2311,
            columnNumber: 13
          }, undefined), " ", /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_20__["jsxDEV"])("br", {}, void 0, false, {
            fileName: _jsxFileName,
            lineNumber: 2311,
            columnNumber: 94
          }, undefined), /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_20__["jsxDEV"])(primereact_button__WEBPACK_IMPORTED_MODULE_3__["Button"], {
            label: "Get Asset Sessions",
            onClick: () => undefined.getNotables('asset')
          }, void 0, false, {
            fileName: _jsxFileName,
            lineNumber: 2312,
            columnNumber: 13
          }, undefined), " ", /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_20__["jsxDEV"])("br", {}, void 0, false, {
            fileName: _jsxFileName,
            lineNumber: 2312,
            columnNumber: 93
          }, undefined)]
        }, void 0, true, {
          fileName: _jsxFileName,
          lineNumber: 2301,
          columnNumber: 11
        }, undefined), /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_20__["jsxDEV"])("div", {
          className: "col-6",
          children: [/*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_20__["jsxDEV"])("h2", {
            children: "New Data Validation Session (BETA)"
          }, void 0, false, {
            fileName: _jsxFileName,
            lineNumber: 2315,
            columnNumber: 15
          }, undefined), /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_20__["jsxDEV"])("div", {
            className: "form-group",
            children: [/*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_20__["jsxDEV"])("label", {
              for: "input1",
              children: [/*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_20__["jsxDEV"])("b", {
                children: "Previous days to query"
              }, void 0, false, {
                fileName: _jsxFileName,
                lineNumber: 2317,
                columnNumber: 39
              }, undefined), " "]
            }, void 0, true, {
              fileName: _jsxFileName,
              lineNumber: 2317,
              columnNumber: 19
            }, undefined), /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_20__["jsxDEV"])(primereact_inputtext__WEBPACK_IMPORTED_MODULE_6__["InputText"], {
              value: undefined.queryUnitNum
            }, void 0, false, {
              fileName: _jsxFileName,
              lineNumber: 2318,
              columnNumber: 19
            }, undefined)]
          }, void 0, true, {
            fileName: _jsxFileName,
            lineNumber: 2316,
            columnNumber: 15
          }, undefined), /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_20__["jsxDEV"])(primereact_button__WEBPACK_IMPORTED_MODULE_3__["Button"], {
            label: "Start Data Validation",
            onClick: () => undefined.startValidation()
          }, void 0, false, {
            fileName: _jsxFileName,
            lineNumber: 2320,
            columnNumber: 15
          }, undefined), " ", /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_20__["jsxDEV"])("br", {}, void 0, false, {
            fileName: _jsxFileName,
            lineNumber: 2320,
            columnNumber: 95
          }, undefined)]
        }, void 0, true, {
          fileName: _jsxFileName,
          lineNumber: 2314,
          columnNumber: 11
        }, undefined)]
      }, void 0, true, {
        fileName: _jsxFileName,
        lineNumber: 2300,
        columnNumber: 9
      }, undefined) : false]
    }, void 0, true, {
      fileName: _jsxFileName,
      lineNumber: 2281,
      columnNumber: 7
    }, undefined)
  }, void 0, false);
});
_c2 = HomeView;
/* harmony default export */ __webpack_exports__["default"] = (NewSession);

var _c, _c2;

__webpack_require__.$Refresh$.register(_c, "HomeView$observer");
__webpack_require__.$Refresh$.register(_c2, "HomeView");

const currentExports = __react_refresh_utils__.getModuleExports(module.i);
__react_refresh_utils__.registerExportsForReactRefresh(currentExports, module.i);

if (true) {
  const isHotUpdate = !!module.hot.data;
  const prevExports = isHotUpdate ? module.hot.data.prevExports : null;

  if (__react_refresh_utils__.isReactRefreshBoundary(currentExports)) {
    module.hot.dispose(
      /**
       * A callback to performs a full refresh if React has unrecoverable errors,
       * and also caches the to-be-disposed module.
       * @param {*} data A hot module data object from Webpack HMR.
       * @returns {void}
       */
      function hotDisposeCallback(data) {
        // We have to mutate the data object to get data registered and cached
        data.prevExports = currentExports;
      }
    );
    module.hot.accept(
      /**
       * An error handler to allow self-recovering behaviours.
       * @param {Error} error An error occurred during evaluation of a module.
       * @returns {void}
       */
      function hotErrorHandler(error) {
        if (
          typeof __react_refresh_error_overlay__ !== 'undefined' &&
          __react_refresh_error_overlay__
        ) {
          __react_refresh_error_overlay__.handleRuntimeError(error);
        }

        if (typeof __react_refresh_test__ !== 'undefined' && __react_refresh_test__) {
          if (window.onHotAcceptError) {
            window.onHotAcceptError(error.message);
          }
        }

        __webpack_require__.c[module.i].hot.accept(hotErrorHandler);
      }
    );

    if (isHotUpdate) {
      if (
        __react_refresh_utils__.isReactRefreshBoundary(prevExports) &&
        __react_refresh_utils__.shouldInvalidateReactRefreshBoundary(prevExports, currentExports)
      ) {
        module.hot.invalidate();
      } else {
        __react_refresh_utils__.enqueueUpdate(
          /**
           * A function to dismiss the error overlay after performing React refresh.
           * @returns {void}
           */
          function updateCallback() {
            if (
              typeof __react_refresh_error_overlay__ !== 'undefined' &&
              __react_refresh_error_overlay__
            ) {
              __react_refresh_error_overlay__.clearRuntimeErrors();
            }
          }
        );
      }
    }
  } else {
    if (isHotUpdate && __react_refresh_utils__.isReactRefreshBoundary(prevExports)) {
      module.hot.invalidate();
    }
  }
}
/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! ./node_modules/@pmmmwh/react-refresh-webpack-plugin/lib/runtime/RefreshUtils.js */ "./node_modules/@pmmmwh/react-refresh-webpack-plugin/lib/runtime/RefreshUtils.js"), __webpack_require__(/*! ./node_modules/react-dev-utils/refreshOverlayInterop.js */ "./node_modules/react-dev-utils/refreshOverlayInterop.js")))

/***/ }),

/***/ "./src/index.css":
/*!***********************!*\
  !*** ./src/index.css ***!
  \***********************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

var api = __webpack_require__(/*! ../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js */ "./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js");
            var content = __webpack_require__(/*! !../node_modules/css-loader/dist/cjs.js??ref--5-oneOf-4-1!../node_modules/postcss-loader/src??postcss!./index.css */ "./node_modules/css-loader/dist/cjs.js?!./node_modules/postcss-loader/src/index.js?!./src/index.css");

            content = content.__esModule ? content.default : content;

            if (typeof content === 'string') {
              content = [[module.i, content, '']];
            }

var options = {};

options.insert = "head";
options.singleton = false;

var update = api(content, options);


if (true) {
  if (!content.locals || module.hot.invalidate) {
    var isEqualLocals = function isEqualLocals(a, b, isNamedExport) {
  if (!a && b || a && !b) {
    return false;
  }

  var p;

  for (p in a) {
    if (isNamedExport && p === 'default') {
      // eslint-disable-next-line no-continue
      continue;
    }

    if (a[p] !== b[p]) {
      return false;
    }
  }

  for (p in b) {
    if (isNamedExport && p === 'default') {
      // eslint-disable-next-line no-continue
      continue;
    }

    if (!a[p]) {
      return false;
    }
  }

  return true;
};
    var oldLocals = content.locals;

    module.hot.accept(
      /*! !../node_modules/css-loader/dist/cjs.js??ref--5-oneOf-4-1!../node_modules/postcss-loader/src??postcss!./index.css */ "./node_modules/css-loader/dist/cjs.js?!./node_modules/postcss-loader/src/index.js?!./src/index.css",
      function () {
        content = __webpack_require__(/*! !../node_modules/css-loader/dist/cjs.js??ref--5-oneOf-4-1!../node_modules/postcss-loader/src??postcss!./index.css */ "./node_modules/css-loader/dist/cjs.js?!./node_modules/postcss-loader/src/index.js?!./src/index.css");

              content = content.__esModule ? content.default : content;

              if (typeof content === 'string') {
                content = [[module.i, content, '']];
              }

              if (!isEqualLocals(oldLocals, content.locals)) {
                module.hot.invalidate();

                return;
              }

              oldLocals = content.locals;

              update(content);
      }
    )
  }

  module.hot.dispose(function() {
    update();
  });
}

module.exports = content.locals || {};

/***/ }),

/***/ "./src/index.js":
/*!**********************!*\
  !*** ./src/index.js ***!
  \**********************/
/*! no exports provided */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* WEBPACK VAR INJECTION */(function(__react_refresh_utils__, __react_refresh_error_overlay__) {/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var react_dom__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react-dom */ "./node_modules/react-dom/index.js");
/* harmony import */ var react_dom__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react_dom__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _index_css__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./index.css */ "./src/index.css");
/* harmony import */ var _index_css__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_index_css__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _App__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./App */ "./src/App.js");
/* harmony import */ var _NewSession__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./NewSession */ "./src/NewSession.js");
/* harmony import */ var _reportWebVitals__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./reportWebVitals */ "./src/reportWebVitals.js");
/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! react/jsx-dev-runtime */ "./node_modules/react/jsx-dev-runtime.js");
/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_6__);
__webpack_require__.$Refresh$.runtime = __webpack_require__(/*! ./node_modules/react-refresh/runtime.js */ "./node_modules/react-refresh/runtime.js");
__webpack_require__.$Refresh$.setup(module.i);

var _jsxFileName = "C:\\Users\\johnj\\Documents\\exabeam-enhancement-suite-react\\src\\index.js";








react_dom__WEBPACK_IMPORTED_MODULE_1___default.a.render( /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_6__["jsxDEV"])(react__WEBPACK_IMPORTED_MODULE_0___default.a.StrictMode, {
  children: [/*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_6__["jsxDEV"])(_App__WEBPACK_IMPORTED_MODULE_3__["default"], {}, void 0, false, {
    fileName: _jsxFileName,
    lineNumber: 11,
    columnNumber: 5
  }, undefined), /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_6__["jsxDEV"])(_NewSession__WEBPACK_IMPORTED_MODULE_4__["default"], {}, void 0, false, {
    fileName: _jsxFileName,
    lineNumber: 12,
    columnNumber: 5
  }, undefined)]
}, void 0, true, {
  fileName: _jsxFileName,
  lineNumber: 10,
  columnNumber: 3
}, undefined), document.getElementById('root')); // If you want to start measuring performance in your app, pass a function
// to log results (for example: reportWebVitals(console.log))
// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals

Object(_reportWebVitals__WEBPACK_IMPORTED_MODULE_5__["default"])();

const currentExports = __react_refresh_utils__.getModuleExports(module.i);
__react_refresh_utils__.registerExportsForReactRefresh(currentExports, module.i);

if (true) {
  const isHotUpdate = !!module.hot.data;
  const prevExports = isHotUpdate ? module.hot.data.prevExports : null;

  if (__react_refresh_utils__.isReactRefreshBoundary(currentExports)) {
    module.hot.dispose(
      /**
       * A callback to performs a full refresh if React has unrecoverable errors,
       * and also caches the to-be-disposed module.
       * @param {*} data A hot module data object from Webpack HMR.
       * @returns {void}
       */
      function hotDisposeCallback(data) {
        // We have to mutate the data object to get data registered and cached
        data.prevExports = currentExports;
      }
    );
    module.hot.accept(
      /**
       * An error handler to allow self-recovering behaviours.
       * @param {Error} error An error occurred during evaluation of a module.
       * @returns {void}
       */
      function hotErrorHandler(error) {
        if (
          typeof __react_refresh_error_overlay__ !== 'undefined' &&
          __react_refresh_error_overlay__
        ) {
          __react_refresh_error_overlay__.handleRuntimeError(error);
        }

        if (typeof __react_refresh_test__ !== 'undefined' && __react_refresh_test__) {
          if (window.onHotAcceptError) {
            window.onHotAcceptError(error.message);
          }
        }

        __webpack_require__.c[module.i].hot.accept(hotErrorHandler);
      }
    );

    if (isHotUpdate) {
      if (
        __react_refresh_utils__.isReactRefreshBoundary(prevExports) &&
        __react_refresh_utils__.shouldInvalidateReactRefreshBoundary(prevExports, currentExports)
      ) {
        module.hot.invalidate();
      } else {
        __react_refresh_utils__.enqueueUpdate(
          /**
           * A function to dismiss the error overlay after performing React refresh.
           * @returns {void}
           */
          function updateCallback() {
            if (
              typeof __react_refresh_error_overlay__ !== 'undefined' &&
              __react_refresh_error_overlay__
            ) {
              __react_refresh_error_overlay__.clearRuntimeErrors();
            }
          }
        );
      }
    }
  } else {
    if (isHotUpdate && __react_refresh_utils__.isReactRefreshBoundary(prevExports)) {
      module.hot.invalidate();
    }
  }
}
/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! ./node_modules/@pmmmwh/react-refresh-webpack-plugin/lib/runtime/RefreshUtils.js */ "./node_modules/@pmmmwh/react-refresh-webpack-plugin/lib/runtime/RefreshUtils.js"), __webpack_require__(/*! ./node_modules/react-dev-utils/refreshOverlayInterop.js */ "./node_modules/react-dev-utils/refreshOverlayInterop.js")))

/***/ }),

/***/ "./src/logo.svg":
/*!**********************!*\
  !*** ./src/logo.svg ***!
  \**********************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = (__webpack_require__.p + "static/media/logo.6ce24c58.svg");

/***/ }),

/***/ "./src/reportWebVitals.js":
/*!********************************!*\
  !*** ./src/reportWebVitals.js ***!
  \********************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* WEBPACK VAR INJECTION */(function(__react_refresh_utils__, __react_refresh_error_overlay__) {__webpack_require__.$Refresh$.runtime = __webpack_require__(/*! ./node_modules/react-refresh/runtime.js */ "./node_modules/react-refresh/runtime.js");
__webpack_require__.$Refresh$.setup(module.i);

const reportWebVitals = onPerfEntry => {
  if (onPerfEntry && onPerfEntry instanceof Function) {
    __webpack_require__.e(/*! import() */ 3).then(__webpack_require__.bind(null, /*! web-vitals */ "./node_modules/web-vitals/dist/web-vitals.js")).then(({
      getCLS,
      getFID,
      getFCP,
      getLCP,
      getTTFB
    }) => {
      getCLS(onPerfEntry);
      getFID(onPerfEntry);
      getFCP(onPerfEntry);
      getLCP(onPerfEntry);
      getTTFB(onPerfEntry);
    });
  }
};

/* harmony default export */ __webpack_exports__["default"] = (reportWebVitals);

const currentExports = __react_refresh_utils__.getModuleExports(module.i);
__react_refresh_utils__.registerExportsForReactRefresh(currentExports, module.i);

if (true) {
  const isHotUpdate = !!module.hot.data;
  const prevExports = isHotUpdate ? module.hot.data.prevExports : null;

  if (__react_refresh_utils__.isReactRefreshBoundary(currentExports)) {
    module.hot.dispose(
      /**
       * A callback to performs a full refresh if React has unrecoverable errors,
       * and also caches the to-be-disposed module.
       * @param {*} data A hot module data object from Webpack HMR.
       * @returns {void}
       */
      function hotDisposeCallback(data) {
        // We have to mutate the data object to get data registered and cached
        data.prevExports = currentExports;
      }
    );
    module.hot.accept(
      /**
       * An error handler to allow self-recovering behaviours.
       * @param {Error} error An error occurred during evaluation of a module.
       * @returns {void}
       */
      function hotErrorHandler(error) {
        if (
          typeof __react_refresh_error_overlay__ !== 'undefined' &&
          __react_refresh_error_overlay__
        ) {
          __react_refresh_error_overlay__.handleRuntimeError(error);
        }

        if (typeof __react_refresh_test__ !== 'undefined' && __react_refresh_test__) {
          if (window.onHotAcceptError) {
            window.onHotAcceptError(error.message);
          }
        }

        __webpack_require__.c[module.i].hot.accept(hotErrorHandler);
      }
    );

    if (isHotUpdate) {
      if (
        __react_refresh_utils__.isReactRefreshBoundary(prevExports) &&
        __react_refresh_utils__.shouldInvalidateReactRefreshBoundary(prevExports, currentExports)
      ) {
        module.hot.invalidate();
      } else {
        __react_refresh_utils__.enqueueUpdate(
          /**
           * A function to dismiss the error overlay after performing React refresh.
           * @returns {void}
           */
          function updateCallback() {
            if (
              typeof __react_refresh_error_overlay__ !== 'undefined' &&
              __react_refresh_error_overlay__
            ) {
              __react_refresh_error_overlay__.clearRuntimeErrors();
            }
          }
        );
      }
    }
  } else {
    if (isHotUpdate && __react_refresh_utils__.isReactRefreshBoundary(prevExports)) {
      module.hot.invalidate();
    }
  }
}
/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! ./node_modules/@pmmmwh/react-refresh-webpack-plugin/lib/runtime/RefreshUtils.js */ "./node_modules/@pmmmwh/react-refresh-webpack-plugin/lib/runtime/RefreshUtils.js"), __webpack_require__(/*! ./node_modules/react-dev-utils/refreshOverlayInterop.js */ "./node_modules/react-dev-utils/refreshOverlayInterop.js")))

/***/ }),

/***/ 0:
/*!******************************************************************************************************************************************************************!*\
  !*** multi ./node_modules/@pmmmwh/react-refresh-webpack-plugin/client/ReactRefreshEntry.js ./node_modules/react-dev-utils/webpackHotDevClient.js ./src/index.js ***!
  \******************************************************************************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

__webpack_require__(/*! C:\Users\johnj\Documents\exabeam-enhancement-suite-react\node_modules\@pmmmwh\react-refresh-webpack-plugin\client\ReactRefreshEntry.js */"./node_modules/@pmmmwh/react-refresh-webpack-plugin/client/ReactRefreshEntry.js");
__webpack_require__(/*! C:\Users\johnj\Documents\exabeam-enhancement-suite-react\node_modules\react-dev-utils\webpackHotDevClient.js */"./node_modules/react-dev-utils/webpackHotDevClient.js");
module.exports = __webpack_require__(/*! C:\Users\johnj\Documents\exabeam-enhancement-suite-react\src\index.js */"./src/index.js");


/***/ })

},[[0,"runtime-main","vendors~main"]]]);
//# sourceMappingURL=main.chunk.js.map